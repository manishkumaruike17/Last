(this["webpackJsonplibdrive-web"]=this["webpackJsonplibdrive-web"]||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"a":""}')},155:function(e,t,a){},157:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){"use strict";a.r(t);var n=a(14),r=a(0),o=a.n(r),s=a(19),c=a.n(s),i=a(17),l=a(22),h=a(206),u=a(213),d=a(6),m=a(7),p=a(11),j=a(9),b=a(10),g=a(199),f=a(116),v=a(201),O=a(102),x=a.n(O),y=(a(44),a(1)),C=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={menuAnchor:!1},n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleClose=n.handleClose.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(e){this.setState({menuAnchor:e.currentTarget})}},{key:"handleClose",value:function(e){this.setState({menuAnchor:!1})}},{key:"render",value:function(){var e=this.props.accounts,t=Object(y.jsx)(x.a,{});return e&&e.pic&&(e.pic.includes("http")||e.pic.includes("www"))&&(t=Object(y.jsx)("img",{src:e.pic,width:"32px",alt:"profile-pic"})),Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{"aria-label":"more","aria-controls":"account-menu","aria-haspopup":"true",onClick:this.handleClick,children:t}),Object(y.jsxs)(f.a,{id:"account-menu",anchorEl:this.state.menuAnchor,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(this.state.menuAnchor),onClose:this.handleClose,children:[Object(y.jsx)(i.b,{to:"/settings",className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:this.handleClose,children:"Settings"})}),Object(y.jsx)(i.b,{to:"/logout",className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:this.handleClose,children:"Logout"})})]})]})}}]),a}(r.Component),k=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),server:sessionStorage.getItem("server")||localStorage.getItem("server")},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("_VERSION")||localStorage.setItem("_VERSION",Ze.a),localStorage.getItem("_VERSION")!==Ze.a&&("caches"in window&&(caches.keys().then((function(e){e.forEach((function(e){caches.delete(e)}))})),window.location.reload(!0)),localStorage.setItem("_VERSION",Ze.a))}},{key:"render",value:function(){var e=this.state,t=e.auth,a=e.server;return t&&a?Object(y.jsx)(l.a,{to:"/browse"},X()):Object(y.jsx)(l.a,{to:"/login"},X())}}]),a}(r.Component),S=a(202),w=a(13),_=a(20),B=a.n(_),N=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),isLoaded:!1,metadata:{},server:sessionStorage.getItem("server")||localStorage.getItem("server")},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.auth,n=t.server;a&&n||this.props.history.push("/logout");var r="".concat(n,"/api/v1/metadata?a=").concat(a,"&r=0:16&s=popularity-des");B.a.get(r).then((function(t){return e.setState({isLoaded:!0,metadata:t.data.content})})).catch((function(t){if(console.error(t),t.response){var a=t.response.data;401===a.code?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Login",confirmButtonColor:He.palette.success.main}).then((function(t){t.isConfirmed&&e.props.history.push("/logout")})):n?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout")}else t.request&&(n?w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is '".concat(n,"' the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout"))}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.metadata;return t?Object(y.jsxs)("div",{className:"Browse",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)(M,{metadata:a}),Object(y.jsx)(J,{})]}):Object(y.jsx)("div",{className:"Loading",children:Object(y.jsx)(S.a,{})})}}]),a}(r.Component),I=a(203),T=a(204),D=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={menuAnchor:!1},n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleClose=n.handleClose.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(e){this.setState({menuAnchor:e.currentTarget})}},{key:"handleClose",value:function(e){this.setState({menuAnchor:!1})}},{key:"render",value:function(){var e=this,t=this.props.categories;return Object(y.jsxs)("div",{className:"Browse",style:{marginRight:"15px"},children:[Object(y.jsx)(I.a,{"aria-controls":"browse-menu","aria-haspopup":"true",onClick:this.handleClick,children:"Browse"}),Object(y.jsxs)(f.a,{id:"browse-menu",anchorEl:this.state.menuAnchor,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(this.state.menuAnchor),onClose:this.handleClose,children:[Object(y.jsx)(i.b,{to:"/",className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:this.handleClose,children:"Home Page"})}),Object(y.jsx)(T.a,{}),t.length?t.map((function(t){return Object(y.jsx)(i.b,{to:"/browse/".concat(t.name),className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:e.handleClose,children:t.name})},X())})):null]})]})}}]),a}(r.Component),E=a(107),L=a.n(E),R=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state=Object(n.a)({menuAnchor:!1},e.state),r.handleClick=r.handleClick.bind(Object(p.a)(r)),r.handleClose=r.handleClose.bind(Object(p.a)(r)),r.handleSeason=r.handleSeason.bind(Object(p.a)(r)),r}return Object(m.a)(a,[{key:"handleClick",value:function(e){this.setState({menuAnchor:e.currentTarget})}},{key:"handleClose",value:function(e){this.setState({menuAnchor:!1})}},{key:"handleSeason",value:function(e){e.preventDefault();for(var t=this.state,a=t.auth,n=t.metadata,r=t.server,o=0;o<n.children.length;o++)window.open("".concat(r,"/api/v1/redirectdownload/").concat(n.children[o].name,"?a=").concat(a,"&id=").concat(n.children[o].id));this.setState({menuAnchor:e.currentTarget})}},{key:"render",value:function(){var e=this,t=this.state,a=t.menuAnchor,n=t.sources;return Object(y.jsxs)("div",{className:"DownloadMenu",style:{marginTop:"20px",marginRight:"10px"},children:[Object(y.jsx)(I.a,{variant:"outlined",color:"primary","aria-controls":"download-menu","aria-haspopup":"true",onClick:this.handleClick,startIcon:Object(y.jsx)(L.a,{}),children:"Download"}),Object(y.jsxs)(f.a,{id:"download-menu",anchorEl:a,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(a),onClose:this.handleClose,children:[n.length?n.map((function(t){return Object(y.jsx)("a",{href:t.url,className:"no_decoration_link",target:"_blank",children:Object(y.jsx)(v.a,{onClick:e.handleClose,children:t.name})})})):null,this.props.tv?Object(y.jsxs)("div",{children:[Object(y.jsx)(T.a,{}),Object(y.jsx)(v.a,{onClick:this.handleSeason,children:"Entire Season"})]}):null]})]})}}]),a}(r.Component),A=a(78),M=(a(155),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={metadata:n.props.metadata,server:sessionStorage.getItem("server")||localStorage.getItem("server")},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.metadata,a=e.server;return Object(y.jsx)("div",{className:"Carousel",children:t.length?t.map((function(e){return Object(y.jsxs)("div",{className:"carousel__category",children:[Object(y.jsx)(i.b,{to:"/browse/".concat(e.categoryInfo.name),className:"carousel__category__title no_decoration_link",children:e.categoryInfo.name},X()),Object(y.jsx)("div",{className:"carousel__items",children:e.children.length?e.children.map((function(e){return Object(y.jsxs)("figure",{className:"carousel__item__figure",children:[Object(y.jsx)(i.b,{to:"/view/".concat(e.id),children:Object(y.jsx)("img",{src:e.posterPath||"".concat(a,"/api/v1/image/poster?text=").concat(e.title,"&extention=jpeg"),className:"carousel__item__poster",alt:e.title},X())},X()),Object(y.jsx)(A.a,{className:"carousel__item__title",children:e.title},X())]},X())})):null})]},X())})):null})}}]),a}(r.Component)),P=a(49),q=a.n(P),W=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),category:n.props.match.params.category,isLoaded:!1,metadata:{},page:parseInt(q.a.parse(n.props.location.search).page)||1,range:"".concat(void 0===q.a.parse(n.props.location.search).page?"0:16":"".concat(16*(parseInt(q.a.parse(n.props.location.search).page)-1),":").concat(16*parseInt(q.a.parse(n.props.location.search).page))),server:sessionStorage.getItem("server")||localStorage.getItem("server"),sort:q.a.parse(n.props.location.search).sort||"alphabet-asc"},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.auth,n=t.category,r=t.range,o=t.server,s=t.sort;a&&o||this.props.history.push("/logout");var c="".concat(o,"/api/v1/metadata?a=").concat(a,"&c=").concat(n,"&r=").concat(r,"&s=").concat(s);B.a.get(c).then((function(t){return e.setState({isLoaded:!0,metadata:t.data.content,pages:Math.ceil(t.data.content[0].length/16)})})).catch((function(t){if(console.error(t),t.response){var a=t.response.data;401===a.code?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Login",confirmButtonColor:He.palette.success.main}).then((function(t){t.isConfirmed&&e.props.history.push("/logout")})):o?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout")}else t.request&&(o?w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is '".concat(o,"' the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout"))}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.metadata,r=e.page,o=e.pages,s=e.sort;return t?Object(y.jsxs)("div",{className:"CategoryBrowse",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)($e,{metadata:a}),Object(y.jsx)(Se,{state:{page:r,pages:o,sort:s},props:this.props}),Object(y.jsx)(Ue,{state:{sort:s},props:this.props}),Object(y.jsx)(J,{})]}):Object(y.jsx)("div",{className:"Loading",children:Object(y.jsx)(S.a,{})})}}]),a}(r.Component),F=a(108),U=a.n(F),V=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state=Object(n.a)({menuAnchor:!1},e.state),r.handleClick=r.handleClick.bind(Object(p.a)(r)),r.handleClose=r.handleClose.bind(Object(p.a)(r)),r}return Object(m.a)(a,[{key:"handleClick",value:function(e){this.setState({menuAnchor:e.currentTarget})}},{key:"handleClose",value:function(e){this.setState({menuAnchor:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.metadata,n=t.menuAnchor;return Object(y.jsxs)("div",{className:"ChildrenMenu",style:{marginTop:"20px"},children:[Object(y.jsx)(I.a,{variant:"outlined",color:"primary","aria-controls":"children-menu","aria-haspopup":"true",onClick:this.handleClick,startIcon:Object(y.jsx)(U.a,{}),children:"Seasons"}),Object(y.jsx)(f.a,{id:"children-menu",anchorEl:n,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(n),onClose:this.handleClose,children:a.children.length?a.children.map((function(t){if("directory"==t.type)return Object(y.jsx)(i.b,{to:"/view/".concat(t.id),className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:e.handleClose,children:t.name})},X())})):null})]})}}]),a}(r.Component);var K=a(5),z=(a(157),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(y.jsxs)("footer",{className:e.footer__container,id:"footer__container",children:[Object(y.jsx)("a",{href:"https://github.com/libDrive/libDrive",target:"_blank",children:Object(y.jsx)("img",{src:"/images/github.gif",className:"footer__github",height:"64px",alt:"github-logo"})}),Object(y.jsx)("a",{className:"no_decoration_link footer__text",href:"https://telegram.dog/flixverse",target:"_blank",children:"TELEGRAM GROUP LINKðŸ‘ˆðŸ»".concat(Ze.a)})]})}}]),a}(r.Component)),J=Object(K.a)((function(e){return{footer__container:{backgroundColor:e.palette.background.paper,width:"100%",height:"75px",display:"flex",alignItems:"center",justifyContent:"center"}}}),{withTheme:!0})(z);function X(){function e(e){var t=(Math.random().toString(16)+"000000000").substr(2,8);return e?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return e()+e(!0)+e(!0)+e()}var H,Y=a(205),Q=a(216),G=a(217),$=a(63),Z=a.n($),ee=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={auth:"",error:"",page:!1,password:"",signup:!1,server:window.location.origin,username:""},n.handleTempServerChange=n.handleTempServerChange.bind(Object(p.a)(n)),n.handlePassChange=n.handlePassChange.bind(Object(p.a)(n)),n.handleUserChange=n.handleUserChange.bind(Object(p.a)(n)),n.handleServerSubmit=n.handleServerSubmit.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.handleSignup=n.handleSignup.bind(Object(p.a)(n)),n.dismissError=n.dismissError.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.server;B.a.get("".concat(t,"/api/v1/auth?rules=signup")).then((function(a){var n=a.data;200===n.code?(localStorage.setItem("auth","0"),localStorage.setItem("server",t),sessionStorage.setItem("auth","0"),sessionStorage.setItem("server",t),e.props.history.push(n.content)):!0===n.content?e.setState({signup:!0,page:!0}):!1===n.content&&e.setState({signup:!1,page:!0})}))}},{key:"dismissError",value:function(){this.setState({error:""})}},{key:"handleServerSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state.server;if(!a)return this.setState({error:"Server is required"});a.startsWith("http")||(a="https://".concat(a)),B.a.get("".concat(a,"/api/v1/auth?rules=signup")).then((function(e){var n=e.data;200===n.code?(localStorage.setItem("auth","0"),localStorage.setItem("server",a),sessionStorage.setItem("auth","0"),sessionStorage.setItem("server",a),t.props.history.push(n.content)):!0===n.content?t.setState({server:a,signup:!0,page:!0}):!1===n.content&&t.setState({server:a,signup:!1,page:!0})})).catch((function(e){console.error(e);try{var t=response.data;w.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})}catch(n){w.a.fire({title:"Error!",text:"You were unable to communicate with the server. Are you sure ".concat(a," is the correct server?"),icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})}}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.password,r=a.server,o=a.username;return B.a.get("".concat(r,"/api/v1/auth?u=").concat(o,"&p=").concat(n)).then((function(e){var a=e.data;localStorage.setItem("server",r),sessionStorage.setItem("server",r),localStorage.setItem("auth",a.content.auth),sessionStorage.setItem("auth",a.content.auth),t.props.history.push("/")})).catch((function(e){console.error(e);try{var t=response.data;w.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})}catch(a){w.a.fire({title:"Error!",text:"Something went wrong while communicating with the server ".concat(r),icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})}})),this.setState({error:""})}},{key:"handleSignup",value:function(){var e=this,t=this.state,a=t.password,n=t.server,r=t.username;return r?a?(B.a.get("".concat(n,"/api/v1/signup?u=").concat(r,"&p=").concat(a)).then((function(t){var a=t.data;localStorage.setItem("server",n),sessionStorage.setItem("server",n),localStorage.setItem("auth",a.content.auth),sessionStorage.setItem("auth",a.content.auth),e.props.history.push("/")})).catch((function(e){console.error(e);var t=e.response;try{w.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})}catch(a){w.a.fire({title:"Error!",text:"Something went wrong while communicating with the server ".concat(n),icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})}})),this.setState({error:""})):this.setState({error:"Password is required"}):this.setState({error:"Username is required"})}},{key:"handleTempServerChange",value:function(e){this.setState({server:e.target.value})}},{key:"handleUserChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePassChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.password,n=e.page,r=e.server,o=e.username,s=this.props.classes;return n?Object(y.jsxs)(Y.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(h.a,{}),Object(y.jsxs)("div",{className:s.paper,children:[Object(y.jsx)(Q.a,{className:s.avatar,children:Object(y.jsx)(Z.a,{})}),Object(y.jsx)(A.a,{variant:"h5",children:"Sign in"}),Object(y.jsxs)("form",{className:s.form,onSubmit:this.handleSubmit,noValidate:!0,children:[t&&Object(y.jsx)("div",{style:{},children:Object(y.jsxs)("h3",{"data-test":"error",onClick:this.dismissError,children:[Object(y.jsx)("button",{onClick:this.dismissError,children:"\u2716"}),t]})}),Object(y.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"server",label:"Server",name:"server",autoComplete:"server",onChange:this.handleTempServerChange,value:r,autoFocus:!0,disabled:!0}),Object(y.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",onChange:this.handleUserChange,value:o}),Object(y.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.handlePassChange,value:a}),Object(y.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,children:"Sign In"}),this.state.signup?Object(y.jsxs)("div",{className:"Signup",style:{textAlign:"center"},children:[Object(y.jsx)(I.a,{type:"button",onClick:this.handleSignup,fullWidth:!0,variant:"contained",color:"primary",className:s.submit,children:"Sign Up"}),Object(y.jsx)(A.a,{variant:"body1",children:"Be aware that the owner of this server can view your credentials!"})]}):Object(y.jsx)("div",{className:"Signup"})]})]})]}):Object(y.jsxs)(Y.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(h.a,{}),Object(y.jsxs)("div",{className:s.paper,children:[Object(y.jsx)(Q.a,{className:s.avatar,children:Object(y.jsx)(Z.a,{})}),Object(y.jsx)(A.a,{variant:"h5",children:"Sign in"}),Object(y.jsxs)("form",{className:s.form,onSubmit:this.handleServerSubmit,noValidate:!0,children:[t&&Object(y.jsx)("div",{style:{},children:Object(y.jsxs)("h3",{"data-test":"error",onClick:this.dismissError,children:[Object(y.jsx)("button",{onClick:this.dismissError,children:"\u2716"}),t]})}),Object(y.jsx)(G.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"server",label:"Server",name:"server",autoComplete:"server",onChange:this.handleTempServerChange,value:r,autoFocus:!0}),Object(y.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:s.submit,children:"Next"})]})]})]})}}]),a}(r.Component),te=Object(K.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(ee),ae=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={isLoaded:!1},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;localStorage.clear(),sessionStorage.clear(),setTimeout((function(){return e.setState({isLoaded:!0})}),500)}},{key:"render",value:function(){return this.state.isLoaded?Object(y.jsx)(l.a,{to:"/login"},X()):Object(y.jsx)("div",{className:"Loading",children:Object(y.jsx)(S.a,{})})}}]),a}(r.Component),ne=a(35),re=a.n(ne),oe=a(47),se=a(43),ce=a(210),ie=a(211),le=a(119),he=a(15),ue=a(109),de=a.n(ue),me=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state=Object(n.a)({search:""},e.state),r.searchChange=r.searchChange.bind(Object(p.a)(r)),r.searchSubmit=r.searchSubmit.bind(Object(p.a)(r)),r}return Object(m.a)(a,[{key:"searchChange",value:function(e){this.setState({search:e.target.value})}},{key:"searchSubmit",value:function(e){e.preventDefault(),""!=this.state.search&&null!=this.state.search&&this.props.history.push({pathname:"/search/".concat(this.state.search),key:X()})}},{key:"render",value:function(){var e=this.state,t=e.accounts,a=e.categories,n=(e.news,this.props.classes);return Object(y.jsx)("div",{className:n.grow,children:Object(y.jsx)(ce.a,{position:"static",className:n.root,children:Object(y.jsxs)(ie.a,{children:[Object(y.jsx)(i.b,{to:"/",className:"no_decoration_link",children:Object(y.jsx)(A.a,{className:n.title,variant:"h6",noWrap:!0,children:"FLIXVERSE"})}),Object(y.jsxs)("form",{className:n.search,onSubmit:this.searchSubmit,children:[Object(y.jsx)(g.a,{onClick:this.searchSubmit,className:n.searchIcon,children:Object(y.jsx)(de.a,{})}),Object(y.jsx)(le.a,{placeholder:"Search\u2026",classes:{root:n.inputRoot,input:n.inputInput},inputProps:{"aria-label":"search"},onChange:this.searchChange})]}),Object(y.jsx)("div",{className:n.grow}),Object(y.jsx)(D,{categories:a}),Object(y.jsx)(Ge,{}),Object(y.jsx)(C,{accounts:t})]})})})}}]),a}(r.Component),pe=Object(K.a)((function(e){return{root:{backgroundColor:e.palette.background.paper,color:e.palette.text.primary},grow:{flexGrow:1},title:Object(se.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(se.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(he.c)(e.palette.common.main,.15),"&:hover":{backgroundColor:Object(he.c)(e.palette.common.main,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",zIndex:10,display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(se.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}}),{withTheme:!0})(me),je=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).fetchData=Object(oe.a)(re.a.mark((function e(){var t,a,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.auth,r=t.server,e.next=3,B.a.get("".concat(r,"/api/v1/environment?a=").concat(a)).then((function(e){var t=e.data;n.setState({accounts:t.content.account_list,categories:t.content.category_list})}));case 3:return e.next=5,B.a.get("https://api.github.com/repos/libDrive/libDrive/releases").then((function(e){var t=e.data;n.setState({news:t,isLoaded:!0})}));case 5:case"end":return e.stop()}}),e)}))),n.state={accounts:{},auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),categories:[],isLoaded:!1,news:[],server:sessionStorage.getItem("server")||localStorage.getItem("server")},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.accounts,a=e.categories,r=e.isLoaded,o=e.news;return r&&o.length?Object(y.jsx)("div",{className:"Nav",children:Object(y.jsx)(pe,Object(n.a)({state:{accounts:t,categories:a,news:o}},this.props))}):r?Object(y.jsx)("div",{className:"Nav",children:Object(y.jsx)(pe,Object(n.a)({state:{accounts:t,categories:a,news:[]}},this.props))}):Object(y.jsx)(pe,Object(n.a)({state:{accounts:[],categories:[],news:[]}},this.props))}}]),a}(r.Component),be=a(200),ge=a(167),fe=a(212),ve=a(110),Oe=a.n(ve),xe=(r.Component,a(159),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"NotFound",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)("div",{className:"nf",children:Object(y.jsx)("div",{className:"fof",children:Object(y.jsx)("h1",{children:"Error 404"})})})]})}}]),a}(r.Component)),ye=a(222),Ce=a(215),ke=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state=e.state,n}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.page,r=t.pages,o=t.sort,s=this.props.classes;return a>r?Object(y.jsx)(l.a,{to:{pathname:this.props.props.location.pathname,search:"?page=".concat(r,"&sort=").concat(o)}},X()):Object(y.jsx)("div",{className:s.root,children:Object(y.jsx)(ye.a,{page:a,count:r,variant:"outlined",size:window.innerWidth>=600?"large":window.innerWidth>=390?"medium":"small",color:"primary",renderItem:function(t){return t.page?Object(y.jsx)(i.b,{to:{pathname:e.props.props.location.pathname,search:"?page=".concat(t.page,"&sort=").concat(o)},className:"no_decoration_link",children:Object(y.jsx)(Ce.a,Object(n.a)({},t))},X()):Object(y.jsx)(Ce.a,Object(n.a)({},t))}})})}}]),a}(r.Component),Se=Object(K.a)((function(e){return{root:{"& > *":{display:"flex",justifyContent:"center",alignItems:"center",margin:"20px"}}}}),{withTheme:!0})(ke),we=a(111),_e=a.n(we),Be=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var r;return Object(d.a)(this,a),(r=t.call(this,e)).state=Object(n.a)({menuAnchor:!1},e.state),r.handleClick=r.handleClick.bind(Object(p.a)(r)),r.handleClose=r.handleClose.bind(Object(p.a)(r)),r}return Object(m.a)(a,[{key:"handleClick",value:function(e){this.setState({menuAnchor:e.currentTarget})}},{key:"handleClose",value:function(e){this.setState({menuAnchor:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.auth,n=t.id,r=t.metadata,o=t.server;return Object(y.jsxs)("div",{className:"PlayerMenu",style:{marginTop:"20px",marginRight:"10px"},children:[Object(y.jsx)(I.a,{variant:"outlined",color:"primary","aria-controls":"player-menu","aria-haspopup":"true",onClick:this.handleClick,startIcon:Object(y.jsx)(_e.a,{}),children:"External Player"}),Object(y.jsxs)(f.a,{id:"player-menu",anchorEl:this.state.menuAnchor,keepMounted:!0,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(this.state.menuAnchor),onClose:this.handleClose,children:[Object(y.jsx)("a",{href:"vlc://".concat(o,"/api/v1/redirectdownload/").concat(encodeURI(r.name),"?a=").concat(a,"&id=").concat(n),className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:this.handleClose,children:"VLC"})}),Object(y.jsx)("a",{href:"potplayer://".concat(o,"/api/v1/redirectdownload/").concat(encodeURI(r.name),"?a=").concat(a,"&id=").concat(n),className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:this.handleClose,children:"PotPlayer"})}),Object(y.jsx)("a",{href:"intent:".concat(o,"/api/v1/redirectdownload/").concat(encodeURI(r.name),"?a=").concat(a,"&id=").concat(n,"#Intent;package=com.mxtech.videoplayer.ad;S.title=").concat(r.name,";end"),className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:this.handleClose,children:"Mx Player (Free)"})}),Object(y.jsx)("a",{href:"intent:".concat(o,"/api/v1/redirectdownload/").concat(encodeURI(r.name),"?a=").concat(a,"&id=").concat(n,"#Intent;package=com.mxtech.videoplayer.pro;S.title=").concat(r.name,";end"),className:"no_decoration_link",children:Object(y.jsx)(v.a,{onClick:this.handleClose,children:"Mx Player (Pro)"})}),Object(y.jsx)(T.a,{}),Object(y.jsx)(v.a,{onClick:function(){navigator.clipboard.writeText("".concat(o,"/api/v1/redirectdownload/").concat(encodeURI(r.name),"?a=").concat(a,"&id=").concat(n)),e.handleClose()},children:"Copy"})]})]})}}]),a}(r.Component),Ne=a(112),Ie=a.n(Ne),Te=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state=e.state,n.handleClick=n.handleClick.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(e){for(var t=this.state,a=t.auth,n=t.metadata,r=t.server,o="#EXTM3U\n#EXTENC: UTF-8\n#PLAYLIST: ".concat(n.name,"\n"),s=0;s<n.children.length;s++)o+="#EXTINF:0, ".concat(n.children[s].name,"\n").concat(r,"/api/v1/redirectdownload/").concat(encodeURI(n.children[s].name),"?a=").concat(a,"&id=").concat(n.children[s].id,"\n");var c=document.createElement("a");c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),c.setAttribute("download","".concat(n.name,".m3u8")),c.style.display="none",document.body.appendChild(c),c.click(),document.body.removeChild(c)}},{key:"render",value:function(){return Object(y.jsx)("div",{className:"PlaylistMenu",style:{marginTop:"20px",marginRight:"10px"},children:Object(y.jsx)(I.a,{variant:"outlined",color:"primary",onClick:this.handleClick,startIcon:Object(y.jsx)(Ie.a,{}),children:"m3u8 Playlist"})})}}]),a}(r.Component),De=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),isLoaded:!1,metadata:[],query:n.props.match.params.q,server:sessionStorage.getItem("server")||localStorage.getItem("server")},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.auth,n=t.query,r=t.server;a&&r||this.props.history.push("/logout");var o="".concat(r,"/api/v1/metadata?a=").concat(a,"&q=").concat(n);B.a.get(o).then((function(t){return e.setState({isLoaded:!0,metadata:t.data.content})})).catch((function(t){if(console.error(t),t.response){var a=t.response.data;401===a.code?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Login",confirmButtonColor:He.palette.success.main}).then((function(t){t.isConfirmed&&e.props.history.push("/logout")})):r?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout")}else t.request&&(r?w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is '".concat(r,"' the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout"))}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.metadata;return t?Object(y.jsxs)("div",{className:"Search",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)(M,{metadata:a}),Object(y.jsx)(J,{})]}):Object(y.jsx)("div",{className:"Loading",children:Object(y.jsx)(S.a,{})})}}]),a}(r.Component),Ee=a(220),Le=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),error:"",isLoaded:!1,secret:sessionStorage.getItem("secret"),server:sessionStorage.getItem("server")||localStorage.getItem("server")},n.dismissError=n.dismissError.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.handleRestart=n.handleRestart.bind(Object(p.a)(n)),n.handleKillSwitch=n.handleKillSwitch.bind(Object(p.a)(n)),n.handleRebuild=n.handleRebuild.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state,a=t.secret,n=t.server;null==sessionStorage.getItem("secret")?this.props.history.push("/settings/login"):B.a.get("".concat(n,"/api/v1/config?secret=").concat(a)).then((function(t){var a;return e.setState((a={config:t.data.content,isLoaded:!0},Object(se.a)(a,"config",t.data.content),Object(se.a)(a,"tempSecret",t.data.content.secret_key),a))})).catch((function(t){if(console.error(t),t.response){var a=t.response.data;401===a.code?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Login",confirmButtonColor:He.palette.success.main}).then((function(t){t.isConfirmed&&e.props.history.push("/logout")})):n?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout")}else t.request&&(n?w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is '".concat(n,"' the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(t){t.isConfirmed?e.props.history.push("/logout"):t.isDismissed&&location.reload()})):e.props.history.push("/logout"))}))}},{key:"dismissError",value:function(){this.setState({error:""})}},{key:"handleRestart",value:function(e){e.preventDefault();var t=this.state,a=t.secret,n=t.server;B.a.get("".concat(n,"/api/v1/restart?secret=").concat(a)).then((function(e){w.a.fire({title:"Success!",text:e.data.message,icon:"success",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})})).catch((function(e){console.error(e),w.a.fire({title:"Success!",text:"libDrive is being restarted, this might take some time, so the app won't load",icon:"success",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.secret,r=a.server;B.a.post("".concat(r,"/api/v1/config?secret=").concat(n),this.state.config).then((function(e){w.a.fire({title:"Success!",text:e.data.message,icon:"success",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})})).catch((function(e){if(console.error(e),e.response){var a=e.response.data;401===a.code?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main}).then((function(e){e.isConfirmed&&(sessionStorage.removeItem("secret"),t.props.history.push("/settings/login"))})):w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?t.props.history.push("/logout"):e.isDismissed&&location.reload()}))}else e.request&&w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is ".concat(r," the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?t.props.history.push("/logout"):e.isDismissed&&location.reload()}))}))}},{key:"handleChange",value:function(e){this.setState({config:JSON.parse(e.target.value)})}},{key:"handleKillSwitch",value:function(e){var t=this.state.config;t.kill_switch=e.target.checked,this.setState({config:t}),this.handleSubmit(e)}},{key:"handleRebuild",value:function(e){var t=this,a=this.state,n=a.secret,r=a.server,o="".concat(r,"/api/v1/rebuild?secret=").concat(n);B.a.get(o).then((function(e){return w.a.fire({title:"Success!",text:"libDrive's metadata is being rebuilt...",icon:"success",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main})})).catch((function(e){console.error(e),null==auth||null==r?t.props.history.push("/login"):e.response?401===e.response.status?w.a.fire({title:"Error!",text:"Your credentials are invalid!",icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main}).then((function(e){e.isConfirmed&&t.props.history.push("/logout")})):w.a.fire({title:"Error!",text:"Something went wrong while communicating with the server!",icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?t.props.history.push("/logout"):e.isDismissed&&location.reload()})):e.request&&w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is ".concat(r," the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?t.props.history.push("/logout"):e.isDismissed&&location.reload()}))}))}},{key:"render",value:function(){var e=this.state,t=e.config,a=e.isLoaded,r=this.props.classes;return a?Object(y.jsxs)("div",{className:"Settings",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)("div",{style:{margin:"auto",marginTop:"50px",width:"80vw",maxWidth:"1500px"},children:Object(y.jsx)(G.a,{style:{width:"100%",backgroundColor:He.palette.background.paper},variant:"outlined",label:"Config",value:JSON.stringify(t,null,4),id:"config-box",onChange:this.handleChange,multiline:!0,rows:15,rowsMax:30})}),Object(y.jsx)("form",{className:r.Form,noValidate:!0,autoComplete:"off",onSubmit:this.handleSubmit,children:Object(y.jsxs)("div",{style:{margin:"30px"},children:[Object(y.jsx)(I.a,{style:{margin:"10px",width:"175px"},type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"Submit Config"}),Object(y.jsx)(I.a,{style:{margin:"10px",width:"175px"},fullWidth:!0,variant:"contained",color:"primary",className:r.submit,onClick:this.handleRestart,children:"Restart Server"}),Object(y.jsx)(I.a,{style:{margin:"10px",width:"175px"},fullWidth:!0,variant:"contained",color:"primary",className:r.submit,onClick:this.handleRebuild,children:"Rebuild Metadata"}),Object(y.jsx)("br",{}),Object(y.jsx)("p",{style:{fontSize:"16px",marginTop:"10px",marginBotoom:"5px"},children:"Kill Switch"}),Object(y.jsx)(Ee.a,{checked:this.state.config.kill_switch,onChange:this.handleKillSwitch,color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})]})}),Object(y.jsx)(J,{})]}):Object(y.jsx)("div",{className:"Loading",children:Object(y.jsx)(S.a,{})})}}]),a}(r.Component),Re=Object(K.a)((function(e){return{Form:{textAlign:"center","& .MuiTextField-root":{width:"30ch",margin:e.spacing(1),textAlign:"left"},"& .MuiTypography-root":{margin:"30px 30px"}},submit:{margin:e.spacing(4,0,2),width:"20ch"}}}),{withTheme:!0})(Le),Ae=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),secret:"",server:sessionStorage.getItem("server")||localStorage.getItem("server")},n.handleSecretChange=n.handleSecretChange.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.secret,r=a.server;B.a.get("".concat(r,"/api/v1/config?secret=").concat(n)).then((function(e){sessionStorage.setItem("secret",n),t.props.history.push("/settings")})).catch((function(e){if(console.error(e),e.response){var a=e.response.data;401===a.code?w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main}):w.a.fire({title:"Error!",text:a.message,icon:"error",confirmButtonText:"OK",confirmButtonColor:He.palette.success.main}).then((function(e){location.reload()}))}else e.request&&w.a.fire({title:"Error!",text:"libDrive could not communicate with the server. Is ${server} the correct address?",icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?t.props.history.push("/logout"):e.isDismissed&&location.reload()}))}))}},{key:"handleSecretChange",value:function(e){this.setState({secret:e.target.value})}},{key:"render",value:function(){var e=this.state.secret,t=this.props.classes;return Object(y.jsxs)("div",{className:"SettingsLoginForm",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsxs)(Y.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)(h.a,{}),Object(y.jsxs)("div",{className:t.paper,children:[Object(y.jsx)(Q.a,{className:t.avatar,children:Object(y.jsx)(Z.a,{})}),Object(y.jsx)(A.a,{variant:"h5",children:"Settings Login"}),Object(y.jsxs)("form",{className:t.form,onSubmit:this.handleSubmit,noValidate:!0,children:[Object(y.jsx)(G.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"secret",label:"Secret",name:"secret",type:"password",autoComplete:"secret",onChange:this.handleSecretChange,value:e,required:!0,autoFocus:!0}),Object(y.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})]})]})}}]),a}(r.Component),Me=Object(K.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}),{withTheme:!0})(Ae),Pe=a(209),qe=a(219),We=a(214),Fe=(a(160),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state=e.state,n.formatSort=n.formatSort.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"formatSort",value:function(e){if(!e)return"Sort";for(var t=e.split("-"),a=0;a<t.length;a++)"asc"==t[a]?t[a]="ascending":"des"==t[a]&&(t[a]="descending"),t[a]=t[a].charAt(0).toUpperCase()+t[a].substring(1);return t.join(" ")}},{key:"render",value:function(){var e=this.state.sort,t=this.props.classes;return Object(y.jsx)("div",{className:"SortMenu",children:Object(y.jsx)("div",{className:"sort__container",children:Object(y.jsxs)(Pe.a,{variant:"outlined",className:t.formControl,children:[Object(y.jsx)(qe.a,{id:"sort-menu-label",children:this.formatSort(e)}),Object(y.jsxs)(We.a,{labelId:"sort-menu-label",id:"sort-menu",value:"",label:this.formatSort(e),children:[Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=alphabet-asc"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Alphabet Ascending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=alphabet-des"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Alphabet Descending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=date-asc"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Date Ascending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=date-des"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Date Descending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=popularity-asc"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Popularity Ascending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=popularity-des"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Popularity Descending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=vote-asc"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Vote Ascending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=vote-des"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Vote Descending"})},X()),Object(y.jsx)(i.b,{to:{pathname:this.props.props.location.pathname,search:"?sort=random"},className:"no_decoration_link",children:Object(y.jsx)(v.a,{children:"Random"})},X())]})]})})})}}]),a}(r.Component)),Ue=Object(K.a)((function(e){return{formControl:{margin:"10px",minWidth:210},selectEmpty:{marginTop:"20px"}}}),{withTheme:!0})(Fe),Ve=a(115),Ke=Object(Ve.a)({palette:{type:"light",primary:{main:"#4197fe"},secondary:{main:"#68a0e5"},error:{main:"#d32f2f"},warning:{main:"#ff9800"},success:{main:"#4caf50"},background:{default:"#fafafa",paper:"#e8e8e8"},text:{primary:"#0f0f0f"},common:{main:"#000000"}}}),ze=Object(Ve.a)({palette:{type:"dark",primary:{main:"#4197fe"},secondary:{main:"#68a0e5"},error:{main:"#d32f2f"},warning:{main:"#ff9800"},success:{main:"#4caf50"},background:{default:"#131516",paper:"#171819"},text:{primary:"#e8e6e3"},common:{main:"#ffffff"}}}),Je=Object(Ve.a)({palette:{type:"dark",primary:{main:"#6272a4"},secondary:{main:"#44475a"},error:{main:"#ffb86c"},warning:{main:"#ff5555"},success:{main:"#50fa7b"},background:{default:"#282a36",paper:"#242630"},text:{primary:"#f8f8f2"},common:{main:"#6272a4"}}}),Xe=Object(Ve.a)({palette:{type:"dark",primary:{main:"#5E81AC"},secondary:{main:"#88C0D0"},error:{main:"#BF616A"},warning:{main:"#EBCB8B"},success:{main:"#A3BE8C"},background:{default:"#2E3440",paper:"#3B4252"},text:{primary:"#ECEFF4"},common:{main:"#81A1C1"}}});"light"===localStorage.getItem("theme")||"light"===sessionStorage.getItem("theme")?H=Ke:"dark"===localStorage.getItem("theme")||"dark"===sessionStorage.getItem("theme")?H=ze:"dracula"===localStorage.getItem("theme")||"dracula"===sessionStorage.getItem("theme")?H=Je:"nord"===localStorage.getItem("theme")||"nord"===sessionStorage.getItem("theme")?H=Xe:(H=ze,localStorage.setItem("theme","dark"),sessionStorage.setItem("theme","dark"));var He=H,Ye=a(113),Qe=a.n(Ye),Ge=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={menuAnchor:!1},n.handleClick=n.handleClick.bind(Object(p.a)(n)),n.handleClose=n.handleClose.bind(Object(p.a)(n)),n.handleTheme=n.handleTheme.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(e){this.setState({menuAnchor:e.currentTarget})}},{key:"handleClose",value:function(e){this.setState({menuAnchor:!1})}},{key:"handleTheme",value:function(e){this.setState({menuAnchor:!1}),localStorage.setItem("theme",e),sessionStorage.setItem("theme",e),window.location.reload()}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"ThemeMenu",children:[Object(y.jsx)(g.a,{"aria-label":"more","aria-controls":"theme-menu","aria-haspopup":"true",onClick:this.handleClick,children:Object(y.jsx)(Qe.a,{})}),Object(y.jsxs)(f.a,{id:"theme-menu",anchorEl:this.state.menuAnchor,anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,open:Boolean(this.state.menuAnchor),onClose:this.handleClose,children:[Object(y.jsx)(v.a,{onClick:function(){return e.handleTheme("light")},children:"Light"}),Object(y.jsx)(v.a,{onClick:function(){return e.handleTheme("dark")},children:"Dark"}),Object(y.jsx)(v.a,{onClick:function(){return e.handleTheme("dracula")},children:"Dracula"}),Object(y.jsx)(v.a,{onClick:function(){return e.handleTheme("nord")},children:"Nord"})]})]})}}]),a}(r.Component),$e=(a(161),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={metadata:n.props.metadata,server:sessionStorage.getItem("server")||localStorage.getItem("server")},n}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.metadata,a=e.server;return Object(y.jsx)("div",{className:"Tile",children:t.length?t.map((function(e){return Object(y.jsxs)("div",{className:"tile__category",children:[Object(y.jsx)(i.b,{to:"/browse/".concat(e.categoryInfo.name),className:"tile__category__title no_decoration_link",children:e.categoryInfo.name},X()),Object(y.jsx)("div",{className:"tile__items",children:e.children.length?e.children.map((function(e){return Object(y.jsxs)("figure",{className:"tile__item__figure",children:[Object(y.jsx)(i.b,{to:"/view/".concat(e.id),children:Object(y.jsx)("img",{src:e.posterPath||"".concat(a,"/api/v1/image/poster?text=").concat(e.title,"&extention=jpeg"),className:"tile__item__poster",alt:e.title},X())},X()),Object(y.jsx)(A.a,{className:"tile__item__title",children:e.title},X())]},X())})):null})]},X())})):null})}}]),a}(r.Component));var Ze=a(100),et=a(221),tt=a(223),at=a(76),nt=a.n(at),rt=a(77),ot=a(75),st=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state=e.state,n.onFileChange=n.onFileChange.bind(Object(p.a)(n)),n.prettyDate=n.prettyDate.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"onFileChange",value:function(){var e=Object(oe.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files.length){e.next=12;break}if(!t.target.files[0].name.endsWith(".srt")){e.next=9;break}return a=new ot.a(t.target.files[0]),e.next=5,a.getURL();case 5:n=e.sent,this.setState({file:n}),e.next=10;break;case 9:this.setState({file:URL.createObjectURL(t.target.files[0])});case 10:e.next=13;break;case 12:this.setState({file:null});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"prettyDate",value:function(){var e=this.state.metadata.releaseDate.split("-");return new Date(e[0],e[1],e[2]).toDateString()}},{key:"render",value:function(){var e,t=this.state,a=t.file,n=t.metadata,r=t.server,o=t.sources,s=t.subtitle;return a&&(s={url:a}),e=o.length>1?1:0,Object(y.jsxs)("div",{className:"MovieView",children:[Object(y.jsx)("div",{className:"plyr__component",children:Object(y.jsx)(rt.a,{options:{video:{quality:o,defaultQuality:e,pic:n.backdropPath||"".concat(r,"/api/v1/image/thumbnail?id=").concat(n.id)},subtitle:s,preload:"auto",theme:He.palette.primary.main,contextmenu:[{text:"libDrive",link:"https://github.com/libDrive/libDrive"}],lang:"en"}},X())}),Object(y.jsxs)("div",{className:"info__container",children:[Object(y.jsx)("div",{className:"info__left",children:Object(y.jsx)("img",{className:"info__poster",src:n.posterPath||"".concat(r,"/api/v1/image/poster?text=").concat(n.title,"&extention=jpeg")})}),Object(y.jsxs)("div",{className:"info__right",children:[Object(y.jsx)(A.a,{variant:"h3",style:{fontWeight:"bold"},className:"info__title",children:n.title}),Object(y.jsx)(A.a,{variant:"body1",className:"info__overview",style:{marginTop:"30px"},children:n.overview}),Object(y.jsx)("div",{className:"vote__container",children:Object(y.jsx)(tt.a,{name:"Rating",value:n.voteAverage,max:10,readOnly:!0})}),Object(y.jsx)("div",{className:"info__release",children:Object(y.jsx)(A.a,{variant:"body2",children:n.language?"".concat(this.prettyDate()," (").concat(n.language.toUpperCase(),")"):this.prettyDate()})}),Object(y.jsxs)("div",{style:{display:"flex",alignContent:"center",flexWrap:"wrap"},children:[Object(y.jsx)(Be,{state:this.state}),Object(y.jsx)(R,{state:this.state}),Object(y.jsxs)("div",{style:{marginTop:"20px"},children:[Object(y.jsx)("input",{id:"file-input",hidden:!0,onChange:this.onFileChange,type:"file"}),Object(y.jsx)("label",{htmlFor:"file-input",children:Object(y.jsx)(I.a,{color:"primary",variant:"outlined",component:"span",children:Object(y.jsx)(nt.a,{})})})]})]}),Object(y.jsxs)("div",{className:"info__genres",children:[n.adult?Object(y.jsx)(et.a,{color:"secondary",avatar:Object(y.jsx)(Q.a,{children:"E"}),style:{marginRight:"8px",marginBottom:"8px"},label:"Adult (18+)",variant:"outlined"}):null,n.genres&&n.genres.length?n.genres.map((function(e){return Object(y.jsx)(et.a,{avatar:Object(y.jsx)(Q.a,{children:e.name.charAt(0)}),style:{marginRight:"8px",marginBottom:"8px"},label:e.name,variant:"outlined"})})):null]})]})]})]})}}]),a}(r.Component),ct=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state=e.state,n.prettyDate=n.prettyDate.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"prettyDate",value:function(){var e=this.state.metadata.releaseDate.split("-");return new Date(e[0],e[1],e[2]).toDateString()}},{key:"render",value:function(){var e=this.state,t=e.metadata,a=e.server;return Object(y.jsx)("div",{className:"TVBView",children:Object(y.jsxs)("div",{className:"info__container",children:[Object(y.jsxs)("div",{className:"info__left",children:[Object(y.jsx)("img",{className:"info__poster",src:t.posterPath||"".concat(a,"/api/v1/image/poster?text=").concat(t.title,"&extention=jpeg")}),Object(y.jsx)("img",{className:"info__backdrop",src:t.backdropPath||"".concat(a,"/api/v1/image/backdrop?text=").concat(t.title,"&extention=jpeg")})]}),Object(y.jsxs)("div",{className:"info__right",children:[Object(y.jsx)(A.a,{variant:"h3",style:{fontWeight:"bold"},className:"info__title",children:t.title}),Object(y.jsx)(A.a,{variant:"body1",className:"info__overview",style:{marginTop:"30px"},children:t.overview}),Object(y.jsx)("div",{className:"vote__container",children:Object(y.jsx)(tt.a,{name:"Rating",value:t.voteAverage,max:10,readOnly:!0})}),Object(y.jsx)("div",{className:"info__release",children:Object(y.jsx)(A.a,{variant:"body2",children:t.language?"".concat(this.prettyDate()," (").concat(t.language.toUpperCase(),")"):this.prettyDate()})}),Object(y.jsx)("div",{className:"buttons__container",children:Object(y.jsx)("div",{className:"button",children:Object(y.jsx)(V,{state:this.state})})}),Object(y.jsx)("div",{className:"info__genres",children:t.genres&&t.genres.length?t.genres.map((function(e){return Object(y.jsx)(et.a,{avatar:Object(y.jsx)(Q.a,{children:e.name.charAt(0)}),style:{marginRight:"8px",marginBottom:"8px"},label:e.name,variant:"outlined"})})):null})]})]})})}}]),a}(r.Component),it=function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state=e.state,n.onFileChange=n.onFileChange.bind(Object(p.a)(n)),n}return Object(m.a)(a,[{key:"onFileChange",value:function(){var e=Object(oe.a)(re.a.mark((function e(t){var a,n;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target.files.length){e.next=12;break}if(!t.target.files[0].name.endsWith(".srt")){e.next=9;break}return a=new ot.a(t.target.files[0]),e.next=5,a.getURL();case 5:n=e.sent,this.setState({file:n}),e.next=10;break;case 9:this.setState({file:URL.createObjectURL(t.target.files[0])});case 10:e.next=13;break;case 12:this.setState({file:null});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this.state,a=t.file,n=t.metadata,r=t.q,o=t.server,s=t.sources,c=t.subtitle;function l(e,t){return e===t?"pls-playing":""}return a&&(c={url:a}),e=s.length>1?1:0,Object(y.jsxs)("div",{className:"TVSView",children:[Object(y.jsxs)("div",{className:"plyr__component",children:[Object(y.jsx)(rt.a,{options:{video:{quality:s,defaultQuality:e,pic:"".concat(o,"/api/v1/image/thumbnail?id=").concat(n.children[r].id)},subtitle:c,preload:"auto",theme:He.palette.primary.main,contextmenu:[{text:"libDrive",link:"https://github.com/libDrive/libDrive"}],lang:"en"}},X()),Object(y.jsx)("div",{className:"plyr-playlist-wrapper",children:Object(y.jsx)("ul",{className:"plyr-playlist",children:n.children.length?n.children.map((function(e,t){return Object(y.jsx)("li",{className:l(t,r),children:Object(y.jsxs)(i.b,{to:{pathname:window.location.pathname,search:"?q=".concat(t)},children:[Object(y.jsx)("img",{className:"plyr-miniposter"}),e.name]},X())},t)})):null})})]}),Object(y.jsxs)("div",{style:{textAlign:"center",marginBottom:"50px"},children:[Object(y.jsx)(A.a,{variant:"h3",style:{textAlign:"center",marginTop:"25px",fontStyle:"bold",height:"1.2em",lineHeight:"1.2em",overflow:"hidden"},children:n.name}),Object(y.jsx)(A.a,{variant:"h6",style:{textAlign:"center",marginTop:"15px",height:"1.2em",lineHeight:"1.2em",overflow:"hidden"},children:n.children[r].name}),Object(y.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",flexWrap:"wrap",marginTop:"35px"},children:[Object(y.jsx)(Be,{state:{auth:this.state.auth,id:n.children[r].id,metadata:n.children[r],server:o}}),Object(y.jsx)(R,{state:this.state,tv:!0}),Object(y.jsx)(Te,{state:this.state}),Object(y.jsxs)("div",{style:{marginTop:"20px"},children:[Object(y.jsx)("input",{id:"file-input",hidden:!0,onChange:this.onFileChange,type:"file"}),Object(y.jsx)("label",{htmlFor:"file-input",children:Object(y.jsx)(I.a,{color:"primary",variant:"outlined",component:"span",children:Object(y.jsx)(nt.a,{})})})]})]})]})]})}}]),a}(r.Component),lt=(a(163),function(e){Object(j.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).fetchData=Object(oe.a)(re.a.mark((function e(){var t,a,r,o,s,c;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.auth,r=t.id,o=t.name,s=t.q,c=t.server,e.next=3,B.a.get("".concat(c,"/api/v1/metadata?a=").concat(a,"&id=").concat(r)).then((function(e){var t=e.data;"application/vnd.google-apps.folder"==t.content.mimeType?(r=t.content.children[s].id,o=t.content.children[s].name):o=t.content.name,n.setState({metadata:t.content})})).catch((function(e){if(console.error(e),e.response){var t=e.response.data;401===t.code?w.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Login",confirmButtonColor:He.palette.success.main}).then((function(e){e.isConfirmed&&n.props.history.push("/logout")})):c?w.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?n.props.history.push("/logout"):e.isDismissed&&location.reload()})):n.props.history.push("/logout")}else e.request&&(c?w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is '".concat(c,"' the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?n.props.history.push("/logout"):e.isDismissed&&location.reload()})):n.props.history.push("/logout"))}));case 3:return e.next=5,B.a.get("".concat(c,"/api/v1/stream_map?a=").concat(a,"&id=").concat(r,"&name=").concat(o,"&server=").concat(c)).then((function(e){n.setState({sources:e.data.content.sources,subtitle:e.data.content.subtitle,isLoaded:!0})})).catch((function(e){if(console.error(e),e.response){var t=e.response.data;401===t.code?w.a.fire({title:"Error!",text:t.message,icon:"error",confirmButtonText:"Login",confirmButtonColor:He.palette.success.main}).then((function(e){e.isConfirmed&&n.props.history.push("/logout")})):c?w.a.fire({title:"Error!",text:"Something went wrong while communicating with the server! Is '".concat(c,"' the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?n.props.history.push("/logout"):e.isDismissed&&location.reload()})):n.props.history.push("/logout")}else e.request&&(c?w.a.fire({title:"Error!",text:"libDrive could not communicate with the server! Is '".concat(c,"' the correct address?"),icon:"error",confirmButtonText:"Logout",confirmButtonColor:He.palette.success.main,cancelButtonText:"Retry",cancelButtonColor:He.palette.error.main,showCancelButton:!0}).then((function(e){e.isConfirmed?n.props.history.push("/logout"):e.isDismissed&&location.reload()})):n.props.history.push("/logout"))}));case 5:case"end":return e.stop()}}),e)}))),n.state={server:sessionStorage.getItem("server")||localStorage.getItem("server"),auth:sessionStorage.getItem("auth")||localStorage.getItem("auth"),q:parseInt(q.a.parse(n.props.location.search).q)||0,id:n.props.match.params.id,isLoaded:!1,metadata:{},sources:[],subtitle:{url:""}},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,t=e.auth,a=e.server;t&&a||this.props.history.push("/logout"),document.documentElement.style.setProperty("--plyr-color-main",He.palette.primary.main),document.documentElement.style.setProperty("--plyr-video-background",He.palette.background.default),document.documentElement.style.setProperty("--plyr-menu-background",He.palette.background.paper),document.documentElement.style.setProperty("--plyr-menu-color",He.palette.text.primary),this.fetchData()}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.metadata;return t&&"file"==a.type?Object(y.jsxs)("div",{className:"View",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)(st,{state:this.state}),Object(y.jsx)(J,{})]}):t&&"directory"==a.type&&a.title?Object(y.jsxs)("div",{className:"View",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)(ct,{state:this.state}),Object(y.jsx)(J,{})]}):t&&"directory"==a.type?Object(y.jsxs)("div",{className:"View",children:[Object(y.jsx)(je,Object(n.a)({},this.props)),Object(y.jsx)(it,{state:this.state}),Object(y.jsx)(J,{})]}):Object(y.jsx)("div",{className:"Loading",children:Object(y.jsx)(S.a,{})})}}]),a}(r.Component));a(164);c.a.render(Object(y.jsx)(i.a,{children:Object(y.jsxs)(u.a,{theme:He,children:[Object(y.jsx)(h.a,{}),Object(y.jsxs)(l.d,{children:[Object(y.jsx)(l.b,{exact:!0,path:"/",render:function(e){return Object(y.jsx)(k,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/browse",render:function(e){return Object(y.jsx)(N,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/browse/:category",render:function(e){return Object(y.jsx)(W,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/login",render:function(e){return Object(y.jsx)(te,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/logout",render:function(e){return Object(y.jsx)(ae,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/search/:q",render:function(e){return Object(y.jsx)(De,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/settings",render:function(e){return Object(y.jsx)(Re,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/settings/login",render:function(e){return Object(y.jsx)(Me,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{exact:!0,path:"/view/:id",render:function(e){return Object(y.jsx)(lt,Object(n.a)({},e),X())}}),Object(y.jsx)(l.b,{path:"",render:function(e){return Object(y.jsx)(xe,Object(n.a)({},e),X())}})]})]})}),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.3af65340.chunk.js.map