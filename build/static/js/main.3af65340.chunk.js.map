{"version":3,"sources":["components/AccountMenu/index.js","App.js","functions/clear.js","pages/Browse/index.js","components/BrowseMenu/index.js","components/DownloadMenu/index.js","components/Carousel/index.js","pages/CategoryBrowse/index.js","components/ChildrenMenu/index.js","components/Footer/index.js","functions/guid.js","theme.js","pages/Login/index.js","components/Logout/index.js","components/Nav/NavUI.js","components/Nav/index.js","pages/NotFound/index.js","components/NewsMenu/index.js","components/PageMenu/index.js","components/PlayerMenu/index.js","components/PlaylistMenu/index.js","pages/Search/index.js","pages/Settings/index.js","pages/SettingsLogin/index.js","components/SortMenu/index.js","components/ThemeMenu/index.js","components/Tile/index.js","pages/View/MovieView/index.js","pages/View/TVView/index.js","pages/View/index.js","index.js"],"names":["BrowseMenu","props","state","menuAnchor","handleClick","bind","handleClose","evt","this","setState","currentTarget","accounts","pic","includes","src","width","alt","IconButton","aria-label","aria-controls","aria-haspopup","onClick","Menu","id","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","keepMounted","open","Boolean","onClose","to","className","MenuItem","Component","App","auth","sessionStorage","getItem","localStorage","server","setItem","version","window","caches","keys","then","names","forEach","name","delete","location","reload","guid","Browse","isLoaded","metadata","history","push","url","axios","get","response","data","content","catch","error","console","code","Swal","fire","title","text","message","icon","confirmButtonText","confirmButtonColor","theme","palette","success","main","result","isConfirmed","cancelButtonText","cancelButtonColor","showCancelButton","isDismissed","request","CircularProgress","categories","style","marginRight","Button","Divider","length","map","category","DownloadMenu","handleSeason","preventDefault","n","children","sources","marginTop","variant","color","startIcon","source","href","target","tv","Carousel","categoryInfo","item","posterPath","Typography","CategoryBrowse","match","params","page","parseInt","queryString","parse","search","range","undefined","sort","pages","Math","ceil","ChildrenMenu","child","type","Footer","classes","footer__container","height","withStyles","backgroundColor","background","paper","display","alignItems","justifyContent","withTheme","_p8","s","p","random","toString","substr","Login","password","signup","origin","username","handleTempServerChange","handlePassChange","handleUserChange","handleServerSubmit","handleSubmit","handleSignup","dismissError","startsWith","value","Container","component","maxWidth","CssBaseline","Avatar","avatar","form","onSubmit","noValidate","data-test","TextField","margin","required","fullWidth","label","autoComplete","onChange","autoFocus","disabled","submit","textAlign","spacing","flexDirection","secondary","Logout","clear","setTimeout","NavUI","searchChange","searchSubmit","pathname","key","news","grow","AppBar","position","root","Toolbar","noWrap","searchIcon","InputBase","placeholder","inputRoot","input","inputInput","inputProps","primary","flexGrow","breakpoints","up","borderRadius","shape","fade","common","marginLeft","padding","zIndex","paddingLeft","transition","transitions","create","Nav","fetchData","a","account_list","category_list","NotFound","PageMenu","Pagination","count","size","innerWidth","renderItem","PaginationItem","PlayerMenu","encodeURI","navigator","clipboard","writeText","PlaylistMenu","m3u8","i","element","document","createElement","setAttribute","encodeURIComponent","body","appendChild","click","removeChild","Search","query","q","Settings","secret","handleChange","handleRestart","handleKillSwitch","handleRebuild","config","secret_key","post","removeItem","JSON","kill_switch","checked","status","stringify","multiline","rows","rowsMax","Form","fontSize","marginBotoom","Switch","SettingsLoginForm","handleSecretChange","SortMenu","formatSort","str","str_split","split","charAt","toUpperCase","substring","join","FormControl","formControl","InputLabel","Select","labelId","minWidth","selectEmpty","lightTheme","createMuiTheme","warning","default","darkTheme","draculaTheme","nordTheme","ThemeMenu","handleTheme","Tile","MovieView","onFileChange","prettyDate","files","endsWith","vtt","VTTConverter","getURL","res","file","URL","createObjectURL","date_comp","releaseDate","Date","toDateString","defaultQuality","subtitle","options","video","quality","backdropPath","preload","contextmenu","link","lang","fontWeight","overview","Rating","voteAverage","max","readOnly","language","alignContent","flexWrap","hidden","htmlFor","adult","Chip","marginBottom","genres","genre","TVBView","TVSView","isHash","hash","fontStyle","lineHeight","overflow","View","mimeType","documentElement","setProperty","ReactDOM","render","ThemeProvider","exact","path","SettingsLogin","getElementById"],"mappings":"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","file":"static/js/main.3af65340.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { IconButton, Menu, MenuItem } from \"@material-ui/core\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nexport default class BrowseMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { accounts } = this.props;\r\n\r\n    let pic = <AccountCircle />;\r\n    if (\r\n      accounts &&\r\n      accounts.pic &&\r\n      (accounts.pic.includes(\"http\") || accounts.pic.includes(\"www\"))\r\n    ) {\r\n      pic = <img src={accounts.pic} width=\"32px\" alt=\"profile-pic\"></img>;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          aria-label=\"more\"\r\n          aria-controls=\"account-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          {pic}\r\n        </IconButton>\r\n        <Menu\r\n          id=\"account-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          keepMounted\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <Link to={\"/settings\"} className=\"no_decoration_link\">\r\n            <MenuItem onClick={this.handleClose}>Settings</MenuItem>\r\n          </Link>\r\n          <Link to={\"/logout\"} className=\"no_decoration_link\">\r\n            <MenuItem onClick={this.handleClose}>Logout</MenuItem>\r\n          </Link>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { clear, guid, version } from \"./components\";\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (!localStorage.getItem(\"_VERSION\")) {\r\n      localStorage.setItem(\"_VERSION\", version);\r\n    }\r\n    if (localStorage.getItem(\"_VERSION\") !== version) {\r\n      clear();\r\n      localStorage.setItem(\"_VERSION\", version);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { auth, server } = this.state;\r\n    return auth && server ? (\r\n      <Redirect to=\"/browse\" key={guid()} />\r\n    ) : (\r\n      <Redirect to=\"/login\" key={guid()} />\r\n    );\r\n  }\r\n}\r\n","export default function clear() {\r\n  if (\"caches\" in window) {\r\n    caches.keys().then((names) => {\r\n      names.forEach((name) => {\r\n        caches.delete(name);\r\n      });\r\n    });\r\n    window.location.reload(true);\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Carousel, Footer, Nav, theme } from \"../../components\";\r\n\r\nexport default class Browse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      isLoaded: false,\r\n      metadata: {},\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, server } = this.state;\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    let url = `${server}/api/v1/metadata?a=${auth}&r=0:16&s=popularity-des`;\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data.content,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Browse\">\r\n        <Nav {...this.props} />\r\n        <Carousel metadata={metadata} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Button, Divider, Menu, MenuItem } from \"@material-ui/core\";\r\n\r\nimport { guid } from \"../../components\";\r\n\r\nexport default class BrowseMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { categories } = this.props;\r\n\r\n    return (\r\n      <div className=\"Browse\" style={{ marginRight: \"15px\" }}>\r\n        <Button\r\n          aria-controls=\"browse-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          Browse\r\n        </Button>\r\n        <Menu\r\n          id=\"browse-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <Link to={\"/\"} className=\"no_decoration_link\">\r\n            <MenuItem onClick={this.handleClose}>Home Page</MenuItem>\r\n          </Link>\r\n          <Divider />\r\n          {categories.length\r\n            ? categories.map((category) => (\r\n                <Link\r\n                  to={`/browse/${category.name}`}\r\n                  key={guid()}\r\n                  className=\"no_decoration_link\"\r\n                >\r\n                  <MenuItem onClick={this.handleClose}>\r\n                    {category.name}\r\n                  </MenuItem>\r\n                </Link>\r\n              ))\r\n            : null}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Button, Divider, Menu, MenuItem } from \"@material-ui/core\";\r\nimport CloudDownloadOutlinedIcon from \"@material-ui/icons/CloudDownloadOutlined\";\r\n\r\nexport default class DownloadMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n      ...props.state,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleSeason = this.handleSeason.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  handleSeason(evt) {\r\n    evt.preventDefault();\r\n    let { auth, metadata, server } = this.state;\r\n    for (let n = 0; n < metadata.children.length; n++) {\r\n      window.open(\r\n        `${server}/api/v1/redirectdownload/${metadata.children[n].name}?a=${auth}&id=${metadata.children[n].id}`\r\n      );\r\n    }\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { menuAnchor, sources } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className=\"DownloadMenu\"\r\n        style={{ marginTop: \"20px\", marginRight: \"10px\" }}\r\n      >\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          aria-controls=\"download-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n          startIcon={<CloudDownloadOutlinedIcon />}\r\n        >\r\n          Download\r\n        </Button>\r\n        <Menu\r\n          id=\"download-menu\"\r\n          anchorEl={menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          {sources.length\r\n            ? sources.map((source) => (\r\n                <a\r\n                  href={source.url}\r\n                  className=\"no_decoration_link\"\r\n                  target=\"_blank\"\r\n                >\r\n                  <MenuItem onClick={this.handleClose}>{source.name}</MenuItem>\r\n                </a>\r\n              ))\r\n            : null}\r\n\r\n          {this.props.tv ? (\r\n            <div>\r\n              <Divider />\r\n              <MenuItem onClick={this.handleSeason}>Entire Season</MenuItem>\r\n            </div>\r\n          ) : null}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport { guid } from \"../../components\";\r\nimport \"./index.css\";\r\n\r\nexport default class Carousel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      metadata: this.props.metadata,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { metadata, server } = this.state;\r\n\r\n    return (\r\n      <div className=\"Carousel\">\r\n        {metadata.length\r\n          ? metadata.map((category) => (\r\n              <div className=\"carousel__category\" key={guid()}>\r\n                <Link\r\n                  to={`/browse/${category.categoryInfo.name}`}\r\n                  key={guid()}\r\n                  className=\"carousel__category__title no_decoration_link\"\r\n                >\r\n                  {category.categoryInfo.name}\r\n                </Link>\r\n                <div className=\"carousel__items\">\r\n                  {category.children.length\r\n                    ? category.children.map((item) => (\r\n                        <figure className=\"carousel__item__figure\" key={guid()}>\r\n                          <Link to={`/view/${item.id}`} key={guid()}>\r\n                            <img\r\n                              src={\r\n                                item.posterPath ||\r\n                                `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\r\n                              }\r\n                              key={guid()}\r\n                              className=\"carousel__item__poster\"\r\n                              alt={item.title}\r\n                            />\r\n                          </Link>\r\n                          <Typography\r\n                            className=\"carousel__item__title\"\r\n                            key={guid()}\r\n                          >\r\n                            {item.title}\r\n                          </Typography>\r\n                        </figure>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport { Footer, Nav, PageMenu, SortMenu, theme, Tile } from \"../../components\";\r\n\r\nexport default class CategoryBrowse extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      category: this.props.match.params.category,\r\n      isLoaded: false,\r\n      metadata: {},\r\n      page: parseInt(queryString.parse(this.props.location.search).page) || 1,\r\n      range: `${\r\n        queryString.parse(this.props.location.search).page === undefined\r\n          ? \"0:16\"\r\n          : `${\r\n              (parseInt(queryString.parse(this.props.location.search).page) -\r\n                1) *\r\n              16\r\n            }:${\r\n              parseInt(queryString.parse(this.props.location.search).page) * 16\r\n            }`\r\n      }`,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n      sort:\r\n        queryString.parse(this.props.location.search).sort || \"alphabet-asc\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, category, range, server, sort } = this.state;\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    let url = `${server}/api/v1/metadata?a=${auth}&c=${category}&r=${range}&s=${sort}`;\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data.content,\r\n          pages: Math.ceil(response.data.content[0][\"length\"] / 16),\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata, page, pages, sort } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"CategoryBrowse\">\r\n        <Nav {...this.props} />\r\n        <Tile metadata={metadata} />\r\n        <PageMenu\r\n          state={{ page: page, pages: pages, sort: sort }}\r\n          props={this.props}\r\n        />\r\n        <SortMenu state={{ sort: sort }} props={this.props} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Button, Menu, MenuItem } from \"@material-ui/core\";\r\nimport TvIcon from \"@material-ui/icons/Tv\";\r\n\r\nimport { guid } from \"../../components\";\r\n\r\nexport default class ChildrenMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n      ...props.state,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { metadata, menuAnchor } = this.state;\r\n    return (\r\n      <div className=\"ChildrenMenu\" style={{ marginTop: \"20px\" }}>\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          aria-controls=\"children-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n          startIcon={<TvIcon />}\r\n        >\r\n          Seasons\r\n        </Button>\r\n        <Menu\r\n          id=\"children-menu\"\r\n          anchorEl={menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          {metadata.children.length\r\n            ? metadata.children.map((child) => {\r\n                if (child.type == \"directory\") {\r\n                  return (\r\n                    <Link\r\n                      to={`/view/${child.id}`}\r\n                      className=\"no_decoration_link\"\r\n                      key={guid()}\r\n                    >\r\n                      <MenuItem onClick={this.handleClose}>\r\n                        {child.name}\r\n                      </MenuItem>\r\n                    </Link>\r\n                  );\r\n                }\r\n              })\r\n            : null}\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { version } from \"../../components\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst styles = (theme) => ({\r\n  footer__container: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    width: \"100%\",\r\n    height: \"75px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n});\r\n\r\nclass Footer extends Component {\r\n  render() {\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <footer className={classes.footer__container} id=\"footer__container\">\r\n        <a href=\"https://github.com/libDrive/libDrive\" target=\"_blank\">\r\n          <img\r\n            src=\"/images/github.gif\"\r\n            className=\"footer__github\"\r\n            height=\"64px\"\r\n            alt=\"github-logo\"\r\n          />\r\n        </a>\r\n        <a\r\n          className=\"no_decoration_link footer__text\"\r\n          href=\"https://eliasbenb.github.io\"\r\n          target=\"_blank\"\r\n        >\r\n          {`© 2021 Copyright: Elias Benbourenane - v${version}`}\r\n        </a>\r\n      </footer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Footer);\r\n","export default function guid() {\r\n  function _p8(s) {\r\n    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\r\n    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\r\n  }\r\n  return _p8() + _p8(true) + _p8(true) + _p8();\r\n}\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\nconst lightTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#fafafa\",\r\n      paper: \"#e8e8e8\",\r\n    },\r\n    text: {\r\n      primary: \"#0f0f0f\",\r\n    },\r\n    common: {\r\n      main: \"#000000\",\r\n    },\r\n  },\r\n});\r\n\r\nconst darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#4197fe\",\r\n    },\r\n    secondary: {\r\n      main: \"#68a0e5\",\r\n    },\r\n    error: {\r\n      main: \"#d32f2f\",\r\n    },\r\n    warning: {\r\n      main: \"#ff9800\",\r\n    },\r\n    success: {\r\n      main: \"#4caf50\",\r\n    },\r\n    background: {\r\n      default: \"#131516\",\r\n      paper: \"#171819\",\r\n    },\r\n    text: {\r\n      primary: \"#e8e6e3\",\r\n    },\r\n    common: {\r\n      main: \"#ffffff\",\r\n    },\r\n  },\r\n});\r\n\r\nconst draculaTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#6272a4\",\r\n    },\r\n    secondary: {\r\n      main: \"#44475a\",\r\n    },\r\n    error: {\r\n      main: \"#ffb86c\",\r\n    },\r\n    warning: {\r\n      main: \"#ff5555\",\r\n    },\r\n    success: {\r\n      main: \"#50fa7b\",\r\n    },\r\n    background: {\r\n      default: \"#282a36\",\r\n      paper: \"#242630\",\r\n    },\r\n    text: {\r\n      primary: \"#f8f8f2\",\r\n    },\r\n    common: {\r\n      main: \"#6272a4\",\r\n    },\r\n  },\r\n});\r\n\r\nconst nordTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#5E81AC\",\r\n    },\r\n    secondary: {\r\n      main: \"#88C0D0\",\r\n    },\r\n    error: {\r\n      main: \"#BF616A\",\r\n    },\r\n    warning: {\r\n      main: \"#EBCB8B\",\r\n    },\r\n    success: {\r\n      main: \"#A3BE8C\",\r\n    },\r\n    background: {\r\n      default: \"#2E3440\",\r\n      paper: \"#3B4252\",\r\n    },\r\n    text: {\r\n      primary: \"#ECEFF4\",\r\n    },\r\n    common: {\r\n      main: \"#81A1C1\",\r\n    },\r\n  },\r\n});\r\n\r\nvar theme;\r\n\r\nif (\r\n  localStorage.getItem(\"theme\") === \"light\" ||\r\n  sessionStorage.getItem(\"theme\") === \"light\"\r\n) {\r\n  theme = lightTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"dark\" ||\r\n  sessionStorage.getItem(\"theme\") === \"dark\"\r\n) {\r\n  theme = darkTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"dracula\" ||\r\n  sessionStorage.getItem(\"theme\") === \"dracula\"\r\n) {\r\n  theme = draculaTheme;\r\n} else if (\r\n  localStorage.getItem(\"theme\") === \"nord\" ||\r\n  sessionStorage.getItem(\"theme\") === \"nord\"\r\n) {\r\n  theme = nordTheme;\r\n} else {\r\n  theme = darkTheme;\r\n  localStorage.setItem(\"theme\", \"dark\");\r\n  sessionStorage.setItem(\"theme\", \"dark\");\r\n}\r\n\r\nexport default theme;\r\n","import React, { Component } from \"react\";\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Container,\r\n  CssBaseline,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { theme } from \"../../components\"\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: \"\",\r\n      error: \"\",\r\n      page: false,\r\n      password: \"\",\r\n      signup: false,\r\n      server: window.location.origin,\r\n      username: \"\",\r\n    };\r\n\r\n    this.handleTempServerChange = this.handleTempServerChange.bind(this);\r\n    this.handlePassChange = this.handlePassChange.bind(this);\r\n    this.handleUserChange = this.handleUserChange.bind(this);\r\n    this.handleServerSubmit = this.handleServerSubmit.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleSignup = this.handleSignup.bind(this);\r\n    this.dismissError = this.dismissError.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { server } = this.state;\r\n    axios.get(`${server}/api/v1/auth?rules=signup`).then((response) => {\r\n      let data = response.data;\r\n      if (data.code === 200) {\r\n        localStorage.setItem(\"auth\", \"0\");\r\n        localStorage.setItem(\"server\", server);\r\n        sessionStorage.setItem(\"auth\", \"0\");\r\n        sessionStorage.setItem(\"server\", server);\r\n        this.props.history.push(data.content);\r\n      } else if (data.content === true) {\r\n        this.setState({ signup: true, page: true });\r\n      } else if (data.content === false) {\r\n        this.setState({ signup: false, page: true });\r\n      }\r\n    });\r\n  }\r\n\r\n  dismissError() {\r\n    this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleServerSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { server } = this.state;\r\n    if (!server) {\r\n      return this.setState({ error: \"Server is required\" });\r\n    }\r\n    if (!server.startsWith(\"http\")) {\r\n      server = `https://${server}`;\r\n    }\r\n    axios\r\n      .get(`${server}/api/v1/auth?rules=signup`)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        if (data.code === 200) {\r\n          localStorage.setItem(\"auth\", \"0\");\r\n          localStorage.setItem(\"server\", server);\r\n          sessionStorage.setItem(\"auth\", \"0\");\r\n          sessionStorage.setItem(\"server\", server);\r\n          this.props.history.push(data.content);\r\n        } else if (data.content === true) {\r\n          this.setState({ server: server, signup: true, page: true });\r\n        } else if (data.content === false) {\r\n          this.setState({ server: server, signup: false, page: true });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        try {\r\n          let data = response.data;\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        } catch {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `You were unable to communicate with the server. Are you sure ${server} is the correct server?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { password, server, username } = this.state;\r\n\r\n    axios\r\n      .get(`${server}/api/v1/auth?u=${username}&p=${password}`)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        localStorage.setItem(\"server\", server);\r\n        sessionStorage.setItem(\"server\", server);\r\n        localStorage.setItem(\"auth\", data.content.auth);\r\n        sessionStorage.setItem(\"auth\", data.content.auth);\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        try {\r\n          let data = response.data;\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        } catch {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `Something went wrong while communicating with the server ${server}`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        }\r\n      });\r\n    return this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleSignup() {\r\n    let { password, server, username } = this.state;\r\n    if (!username) {\r\n      return this.setState({ error: \"Username is required\" });\r\n    }\r\n    if (!password) {\r\n      return this.setState({ error: \"Password is required\" });\r\n    }\r\n\r\n    axios\r\n      .get(`${server}/api/v1/signup?u=${username}&p=${password}`)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        localStorage.setItem(\"server\", server);\r\n        sessionStorage.setItem(\"server\", server);\r\n        localStorage.setItem(\"auth\", data.content.auth);\r\n        sessionStorage.setItem(\"auth\", data.content.auth);\r\n        this.props.history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        let data = error.response;\r\n        try {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: data.message,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        } catch {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `Something went wrong while communicating with the server ${server}`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"OK\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n          });\r\n        }\r\n      });\r\n    return this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleTempServerChange(evt) {\r\n    this.setState({\r\n      server: evt.target.value,\r\n    });\r\n  }\r\n\r\n  handleUserChange(evt) {\r\n    this.setState({\r\n      username: evt.target.value,\r\n    });\r\n  }\r\n\r\n  handlePassChange(evt) {\r\n    this.setState({\r\n      password: evt.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { error, password, page, server, username } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return !page ? (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography variant=\"h5\">Sign in</Typography>\r\n          <form\r\n            className={classes.form}\r\n            onSubmit={this.handleServerSubmit}\r\n            noValidate\r\n          >\r\n            {error && (\r\n              <div style={{}}>\r\n                <h3 data-test=\"error\" onClick={this.dismissError}>\r\n                  <button onClick={this.dismissError}>✖</button>\r\n                  {error}\r\n                </h3>\r\n              </div>\r\n            )}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"server\"\r\n              label=\"Server\"\r\n              name=\"server\"\r\n              autoComplete=\"server\"\r\n              onChange={this.handleTempServerChange}\r\n              value={server}\r\n              autoFocus\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Next\r\n            </Button>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    ) : (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography variant=\"h5\">Sign in</Typography>\r\n          <form\r\n            className={classes.form}\r\n            onSubmit={this.handleSubmit}\r\n            noValidate\r\n          >\r\n            {error && (\r\n              <div style={{}}>\r\n                <h3 data-test=\"error\" onClick={this.dismissError}>\r\n                  <button onClick={this.dismissError}>✖</button>\r\n                  {error}\r\n                </h3>\r\n              </div>\r\n            )}\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"server\"\r\n              label=\"Server\"\r\n              name=\"server\"\r\n              autoComplete=\"server\"\r\n              onChange={this.handleTempServerChange}\r\n              value={server}\r\n              autoFocus\r\n              disabled\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"username\"\r\n              label=\"Username\"\r\n              name=\"username\"\r\n              autoComplete=\"username\"\r\n              onChange={this.handleUserChange}\r\n              value={username}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={this.handlePassChange}\r\n              value={password}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign In\r\n            </Button>\r\n            {this.state.signup ? (\r\n              <div className=\"Signup\" style={{ textAlign: \"center\" }}>\r\n                <Button\r\n                  type=\"button\"\r\n                  onClick={this.handleSignup}\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  Sign Up\r\n                </Button>\r\n                <Typography variant=\"body1\">\r\n                  Be aware that the owner of this server can view your\r\n                  credentials!\r\n                </Typography>\r\n              </div>\r\n            ) : (\r\n              <div className=\"Signup\"></div>\r\n            )}\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Login);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport { guid } from \"../../components\";\r\n\r\nexport default class Logout extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { isLoaded: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    localStorage.clear();\r\n    sessionStorage.clear();\r\n    setTimeout(() => this.setState({ isLoaded: true }), 500);\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <Redirect to=\"/login\" key={guid()} />\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  AppBar,\r\n  IconButton,\r\n  InputBase,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { fade } from \"@material-ui/core/styles\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  AccountMenu,\r\n  BrowseMenu,\r\n  NewsMenu,\r\n  ThemeMenu,\r\n  guid,\r\n} from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    color: theme.palette.text.primary,\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  title: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  search: {\r\n    position: \"relative\",\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.main, 0.15),\r\n    \"&:hover\": {\r\n      backgroundColor: fade(theme.palette.common.main, 0.25),\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: \"auto\",\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    zIndex: 10,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  inputRoot: {\r\n    color: \"inherit\",\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create(\"width\"),\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: \"20ch\",\r\n    },\r\n  },\r\n});\r\n\r\nclass NavUI extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { search: \"\", ...props.state };\r\n    this.searchChange = this.searchChange.bind(this);\r\n    this.searchSubmit = this.searchSubmit.bind(this);\r\n  }\r\n\r\n  searchChange(evt) {\r\n    this.setState({ search: evt.target.value });\r\n  }\r\n\r\n  searchSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!(this.state.search == \"\" || this.state.search == null)) {\r\n      this.props.history.push({\r\n        pathname: `/search/${this.state.search}`,\r\n        key: guid(),\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { accounts, categories, news } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className={classes.grow}>\r\n        <AppBar position=\"static\" className={classes.root}>\r\n          <Toolbar>\r\n            <Link to=\"/\" className=\"no_decoration_link\">\r\n              <Typography className={classes.title} variant=\"h6\" noWrap>\r\n                FLIXVERSE\r\n              </Typography>\r\n            </Link>\r\n            <form className={classes.search} onSubmit={this.searchSubmit}>\r\n              <IconButton\r\n                onClick={this.searchSubmit}\r\n                className={classes.searchIcon}\r\n              >\r\n                <SearchIcon />\r\n              </IconButton>\r\n              <InputBase\r\n                placeholder=\"Search…\"\r\n                classes={{\r\n                  root: classes.inputRoot,\r\n                  input: classes.inputInput,\r\n                }}\r\n                inputProps={{ \"aria-label\": \"search\" }}\r\n                onChange={this.searchChange}\r\n              />\r\n            </form>\r\n            <div className={classes.grow} />\r\n            <BrowseMenu categories={categories} />\r\n            <ThemeMenu />\r\n            {/* <NewsMenu news={news} /> */}\r\n            <AccountMenu accounts={accounts} />\r\n          </Toolbar>\r\n        </AppBar>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NavUI);\r\n","import React, { Component } from \"react\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport NavUI from \"./NavUI\";\r\n\r\nexport default class Nav extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      accounts: {},\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      categories: [],\r\n      isLoaded: false,\r\n      news: [],\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = async () => {\r\n    let { auth, server } = this.state;\r\n\r\n    await axios\r\n      .get(`${server}/api/v1/environment?a=${auth}`)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        this.setState({\r\n          accounts: data.content.account_list,\r\n          categories: data.content.category_list,\r\n        });\r\n      });\r\n\r\n    await axios\r\n      .get(\"https://api.github.com/repos/libDrive/libDrive/releases\")\r\n      .then((response) => {\r\n        let data = response.data;\r\n        this.setState({\r\n          news: data,\r\n          isLoaded: true,\r\n        });\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let { accounts, categories, isLoaded, news } = this.state;\r\n\r\n    return isLoaded && news.length ? (\r\n      <div className=\"Nav\">\r\n        <NavUI\r\n          state={{ accounts: accounts, categories: categories, news: news }}\r\n          {...this.props}\r\n        />\r\n      </div>\r\n    ) : isLoaded ? (\r\n      <div className=\"Nav\">\r\n        <NavUI\r\n          state={{ accounts: accounts, categories: categories, news: [] }}\r\n          {...this.props}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <NavUI\r\n        state={{ accounts: [], categories: [], news: [] }}\r\n        {...this.props}\r\n      />\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Nav } from \"../../components\";\r\n\r\nimport \"./index.css\";\r\n\r\nexport default class NotFound extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"NotFound\">\r\n        <Nav {...this.props} />\r\n        <div className=\"nf\">\r\n          <div className=\"fof\">\r\n            <h1>Error 404</h1>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport {\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Menu,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\r\n\r\nimport { guid } from \"../../components\";\r\n\r\nexport default class NewsMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { news } = this.props;\r\n\r\n    return (\r\n      <div className=\"NewsMenu\">\r\n        <IconButton\r\n          aria-label=\"more\"\r\n          aria-controls=\"news-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <NotificationsIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"news-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          keepMounted\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <List style={{ maxWidth: \"500px\" }}>\r\n            {news.length\r\n              ? news.slice(0, 3).map((item) => (\r\n                  <ListItem key={guid()} alignItems=\"flex-start\">\r\n                    <ListItemText\r\n                      primary={\r\n                        <strong>libDrive {item.tag_name} released!</strong>\r\n                      }\r\n                      secondary={\r\n                        <React.Fragment>\r\n                          <Typography variant=\"body2\" color=\"textPrimary\">\r\n                            libDrive {item.tag_name} was released on{\" \"}\r\n                            {new Date(item.published_at).toDateString()}, click{\" \"}\r\n                            <a\r\n                              href={item.html_url}\r\n                              target=\"_blank\"\r\n                              className=\"no_decoration_link\"\r\n                            >\r\n                              <u>here</u>\r\n                            </a>{\" \"}\r\n                            to find out more\r\n                          </Typography>\r\n                        </React.Fragment>\r\n                      }\r\n                    />\r\n                  </ListItem>\r\n                ))\r\n              : null}\r\n          </List>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport { Pagination, PaginationItem } from \"@material-ui/lab\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { guid } from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    \"& > *\": {\r\n      display: \"flex\",\r\n      justifyContent: \"center\",\r\n      alignItems: \"center\",\r\n      margin: \"20px\",\r\n    },\r\n  },\r\n});\r\n\r\nclass PageMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n  }\r\n\r\n  render() {\r\n    let { page, pages, sort } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    if (page > pages) {\r\n      return (\r\n        <Redirect\r\n          to={{\r\n            pathname: this.props.props.location.pathname,\r\n            search: `?page=${pages}&sort=${sort}`,\r\n          }}\r\n          key={guid()}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div className={classes.root}>\r\n          <Pagination\r\n            page={page}\r\n            count={pages}\r\n            variant=\"outlined\"\r\n            size={\r\n              window.innerWidth >= 600\r\n                ? \"large\"\r\n                : window.innerWidth >= 390\r\n                ? \"medium\"\r\n                : \"small\"\r\n            }\r\n            color=\"primary\"\r\n            renderItem={(item) =>\r\n              item.page ? (\r\n                <Link\r\n                  to={{\r\n                    pathname: this.props.props.location.pathname,\r\n                    search: `?page=${item.page}&sort=${sort}`,\r\n                  }}\r\n                  key={guid()}\r\n                  className=\"no_decoration_link\"\r\n                >\r\n                  <PaginationItem {...item} />\r\n                </Link>\r\n              ) : (\r\n                <PaginationItem {...item} />\r\n              )\r\n            }\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(PageMenu);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Button, Divider, Menu, MenuItem } from \"@material-ui/core\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\n\r\nexport default class PlayerMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n      ...props.state,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { auth, id, metadata, server } = this.state;\r\n\r\n    return (\r\n      <div\r\n        className=\"PlayerMenu\"\r\n        style={{ marginTop: \"20px\", marginRight: \"10px\" }}\r\n      >\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          aria-controls=\"player-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n          startIcon={<PlayCircleOutlineIcon />}\r\n        >\r\n          External Player\r\n        </Button>\r\n        <Menu\r\n          id=\"player-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          keepMounted\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <a\r\n            href={`vlc://${server}/api/v1/redirectdownload/${encodeURI(\r\n              metadata.name\r\n            )}?a=${auth}&id=${id}`}\r\n            className=\"no_decoration_link\"\r\n          >\r\n            <MenuItem onClick={this.handleClose}>VLC</MenuItem>\r\n          </a>\r\n          <a\r\n            href={`potplayer://${server}/api/v1/redirectdownload/${encodeURI(\r\n              metadata.name\r\n            )}?a=${auth}&id=${id}`}\r\n            className=\"no_decoration_link\"\r\n          >\r\n            <MenuItem onClick={this.handleClose}>PotPlayer</MenuItem>\r\n          </a>\r\n          <a\r\n            href={`intent:${server}/api/v1/redirectdownload/${encodeURI(\r\n              metadata.name\r\n            )}?a=${auth}&id=${id}#Intent;package=com.mxtech.videoplayer.ad;S.title=${\r\n              metadata.name\r\n            };end`}\r\n            className=\"no_decoration_link\"\r\n          >\r\n            <MenuItem onClick={this.handleClose}>Mx Player (Free)</MenuItem>\r\n          </a>\r\n          <a\r\n            href={`intent:${server}/api/v1/redirectdownload/${encodeURI(\r\n              metadata.name\r\n            )}?a=${auth}&id=${id}#Intent;package=com.mxtech.videoplayer.pro;S.title=${\r\n              metadata.name\r\n            };end`}\r\n            className=\"no_decoration_link\"\r\n          >\r\n            <MenuItem onClick={this.handleClose}>Mx Player (Pro)</MenuItem>\r\n          </a>\r\n          <Divider />\r\n          <MenuItem\r\n            onClick={() => {\r\n              navigator.clipboard.writeText(\r\n                `${server}/api/v1/redirectdownload/${encodeURI(\r\n                  metadata.name\r\n                )}?a=${auth}&id=${id}`\r\n              );\r\n              this.handleClose();\r\n            }}\r\n          >\r\n            Copy\r\n          </MenuItem>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Button } from \"@material-ui/core\";\r\nimport PlaylistPlayRoundedIcon from \"@material-ui/icons/PlaylistPlayRounded\";\r\n\r\nexport default class PlaylistMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    let { auth, metadata, server } = this.state;\r\n    let m3u8 = `#EXTM3U\\n#EXTENC: UTF-8\\n#PLAYLIST: ${metadata.name}\\n`;\r\n\r\n    for (var i = 0; i < metadata.children.length; i++) {\r\n      m3u8 += `#EXTINF:0, ${\r\n        metadata.children[i].name\r\n      }\\n${server}/api/v1/redirectdownload/${encodeURI(\r\n        metadata.children[i].name\r\n      )}?a=${auth}&id=${metadata.children[i].id}\\n`;\r\n    }\r\n\r\n    var element = document.createElement(\"a\");\r\n    element.setAttribute(\r\n      \"href\",\r\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(m3u8)\r\n    );\r\n    element.setAttribute(\"download\", `${metadata.name}.m3u8`);\r\n    element.style.display = \"none\";\r\n    document.body.appendChild(element);\r\n    element.click();\r\n    document.body.removeChild(element);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        className=\"PlaylistMenu\"\r\n        style={{ marginTop: \"20px\", marginRight: \"10px\" }}\r\n      >\r\n        <Button\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          onClick={this.handleClick}\r\n          startIcon={<PlaylistPlayRoundedIcon />}\r\n        >\r\n          m3u8 Playlist\r\n        </Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Carousel, Footer, Nav, theme } from \"../../components\";\r\n\r\nexport default class Search extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      isLoaded: false,\r\n      metadata: [],\r\n      query: this.props.match.params.q,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, query, server } = this.state;\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    let url = `${server}/api/v1/metadata?a=${auth}&q=${query}`;\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        this.setState({\r\n          isLoaded: true,\r\n          metadata: response.data.content,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { isLoaded, metadata } = this.state;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Search\">\r\n        <Nav {...this.props} />\r\n        <Carousel metadata={metadata} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Button, CircularProgress, Switch, TextField } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Footer, Nav, theme } from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  Form: {\r\n    textAlign: \"center\",\r\n    \"& .MuiTextField-root\": {\r\n      width: \"30ch\",\r\n      margin: theme.spacing(1),\r\n      textAlign: \"left\",\r\n    },\r\n    \"& .MuiTypography-root\": {\r\n      margin: \"30px 30px\",\r\n    },\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(4, 0, 2),\r\n    width: \"20ch\",\r\n  },\r\n});\r\n\r\nexport class Settings extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      error: \"\",\r\n      isLoaded: false,\r\n      secret: sessionStorage.getItem(\"secret\"),\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n\r\n    this.dismissError = this.dismissError.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleRestart = this.handleRestart.bind(this);\r\n    this.handleKillSwitch = this.handleKillSwitch.bind(this);\r\n    this.handleRebuild = this.handleRebuild.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { secret, server } = this.state;\r\n\r\n    if (sessionStorage.getItem(\"secret\") == null) {\r\n      this.props.history.push(\"/settings/login\");\r\n    } else {\r\n      axios\r\n        .get(`${server}/api/v1/config?secret=${secret}`)\r\n        .then((response) =>\r\n          this.setState({\r\n            config: response.data.content,\r\n            isLoaded: true,\r\n            config: response.data.content,\r\n            tempSecret: response.data.content.secret_key,\r\n          })\r\n        )\r\n        .catch((error) => {\r\n          console.error(error);\r\n          if (error.response) {\r\n            let data = error.response.data;\r\n            if (data.code === 401) {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Login\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                }\r\n              });\r\n            } else if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: data.message,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          } else if (error.request) {\r\n            if (!server) {\r\n              this.props.history.push(\"/logout\");\r\n            } else {\r\n              Swal.fire({\r\n                title: \"Error!\",\r\n                text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n                icon: \"error\",\r\n                confirmButtonText: \"Logout\",\r\n                confirmButtonColor: theme.palette.success.main,\r\n                cancelButtonText: \"Retry\",\r\n                cancelButtonColor: theme.palette.error.main,\r\n                showCancelButton: true,\r\n              }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                  this.props.history.push(\"/logout\");\r\n                } else if (result.isDismissed) {\r\n                  location.reload();\r\n                }\r\n              });\r\n            }\r\n          }\r\n        });\r\n    }\r\n  }\r\n\r\n  dismissError() {\r\n    this.setState({ error: \"\" });\r\n  }\r\n\r\n  handleRestart(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    axios\r\n      .get(`${server}/api/v1/restart?secret=${secret}`)\r\n      .then((response) => {\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: response.data.message,\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: \"libDrive is being restarted, this might take some time, so the app won't load\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        });\r\n      });\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    axios\r\n      .post(`${server}/api/v1/config?secret=${secret}`, this.state.config)\r\n      .then((response) => {\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: response.data.message,\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                sessionStorage.removeItem(\"secret\");\r\n                this.props.history.push(\"/settings/login\");\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `libDrive could not communicate with the server! Is ${server} the correct address?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleChange(evt) {\r\n    this.setState({\r\n      config: JSON.parse(evt.target.value),\r\n    });\r\n  }\r\n\r\n  handleKillSwitch(evt) {\r\n    let { config } = this.state;\r\n    config.kill_switch = evt.target.checked;\r\n    this.setState({ config: config });\r\n    this.handleSubmit(evt);\r\n  }\r\n\r\n  handleRebuild(evt) {\r\n    let { secret, server } = this.state;\r\n\r\n    let url = `${server}/api/v1/rebuild?secret=${secret}`;\r\n    axios\r\n      .get(url)\r\n      .then((response) =>\r\n        Swal.fire({\r\n          title: \"Success!\",\r\n          text: \"libDrive's metadata is being rebuilt...\",\r\n          icon: \"success\",\r\n          confirmButtonText: \"OK\",\r\n          confirmButtonColor: theme.palette.success.main,\r\n        })\r\n      )\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (auth == null || server == null) {\r\n          this.props.history.push(\"/login\");\r\n        } else if (error.response) {\r\n          if (error.response.status === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"Your credentials are invalid!\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: \"Something went wrong while communicating with the server!\",\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: `libDrive could not communicate with the server! Is ${server} the correct address?`,\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  render() {\r\n    let { config, isLoaded } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return isLoaded ? (\r\n      <div className=\"Settings\">\r\n        <Nav {...this.props} />\r\n        <div\r\n          style={{\r\n            margin: \"auto\",\r\n            marginTop: \"50px\",\r\n            width: \"80vw\",\r\n            maxWidth: \"1500px\",\r\n          }}\r\n        >\r\n          <TextField\r\n            style={{\r\n              width: \"100%\",\r\n              backgroundColor: theme.palette.background.paper,\r\n            }}\r\n            variant=\"outlined\"\r\n            label=\"Config\"\r\n            value={JSON.stringify(config, null, 4)}\r\n            id=\"config-box\"\r\n            onChange={this.handleChange}\r\n            multiline\r\n            rows={15}\r\n            rowsMax={30}\r\n          />\r\n        </div>\r\n        <form\r\n          className={classes.Form}\r\n          noValidate\r\n          autoComplete=\"off\"\r\n          onSubmit={this.handleSubmit}\r\n        >\r\n          <div style={{ margin: \"30px\" }}>\r\n            <Button\r\n              style={{ margin: \"10px\", width: \"175px\" }}\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Submit Config\r\n            </Button>\r\n            <Button\r\n              style={{ margin: \"10px\", width: \"175px\" }}\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={this.handleRestart}\r\n            >\r\n              Restart Server\r\n            </Button>\r\n            <Button\r\n              style={{ margin: \"10px\", width: \"175px\" }}\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              onClick={this.handleRebuild}\r\n            >\r\n              Rebuild Metadata\r\n            </Button>\r\n            <br />\r\n            <p\r\n              style={{\r\n                fontSize: \"16px\",\r\n                marginTop: \"10px\",\r\n                marginBotoom: \"5px\",\r\n              }}\r\n            >\r\n              Kill Switch\r\n            </p>\r\n            <Switch\r\n              checked={this.state.config.kill_switch}\r\n              onChange={this.handleKillSwitch}\r\n              color=\"primary\"\r\n              name=\"checkedB\"\r\n              inputProps={{ \"aria-label\": \"primary checkbox\" }}\r\n            />\r\n          </div>\r\n        </form>\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Settings);\r\n","import React, { Component } from \"react\";\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  Container,\r\n  CssBaseline,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\n\r\nimport { Nav, theme } from \"../../components\";\r\n\r\nconst styles = (theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n});\r\n\r\nclass SettingsLoginForm extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      secret: \"\",\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n\r\n    this.handleSecretChange = this.handleSecretChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let { secret, server } = this.state;\r\n\r\n    axios\r\n      .get(`${server}/api/v1/config?secret=${secret}`)\r\n      .then((response) => {\r\n        sessionStorage.setItem(\"secret\", secret);\r\n        this.props.history.push(\"/settings\");\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"OK\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            });\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"OK\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              location.reload();\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          Swal.fire({\r\n            title: \"Error!\",\r\n            text: \"libDrive could not communicate with the server. Is ${server} the correct address?\",\r\n            icon: \"error\",\r\n            confirmButtonText: \"Logout\",\r\n            confirmButtonColor: theme.palette.success.main,\r\n            cancelButtonText: \"Retry\",\r\n            cancelButtonColor: theme.palette.error.main,\r\n            showCancelButton: true,\r\n          }).then((result) => {\r\n            if (result.isConfirmed) {\r\n              this.props.history.push(\"/logout\");\r\n            } else if (result.isDismissed) {\r\n              location.reload();\r\n            }\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  handleSecretChange(evt) {\r\n    this.setState({\r\n      secret: evt.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    let { secret } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"SettingsLoginForm\">\r\n        <Nav {...this.props} />\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n          <CssBaseline />\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <LockOutlinedIcon />\r\n            </Avatar>\r\n            <Typography variant=\"h5\">Settings Login</Typography>\r\n            <form\r\n              className={classes.form}\r\n              onSubmit={this.handleSubmit}\r\n              noValidate\r\n            >\r\n              <TextField\r\n                variant=\"outlined\"\r\n                margin=\"normal\"\r\n                fullWidth\r\n                id=\"secret\"\r\n                label=\"Secret\"\r\n                name=\"secret\"\r\n                type=\"password\"\r\n                autoComplete=\"secret\"\r\n                onChange={this.handleSecretChange}\r\n                value={secret}\r\n                required\r\n                autoFocus\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n              >\r\n                Sign In\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SettingsLoginForm);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { FormControl, Select, InputLabel, MenuItem } from \"@material-ui/core\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { guid } from \"../../components\";\r\n\r\nimport \"./index.css\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    margin: \"10px\",\r\n    minWidth: 210,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: \"20px\",\r\n  },\r\n});\r\n\r\nclass SortMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n    this.formatSort = this.formatSort.bind(this);\r\n  }\r\n\r\n  formatSort(str) {\r\n    if (!str) {\r\n      return \"Sort\";\r\n    }\r\n    let str_split = str.split(\"-\");\r\n    for (var i = 0; i < str_split.length; i++) {\r\n      if (str_split[i] == \"asc\") {\r\n        str_split[i] = \"ascending\";\r\n      } else if (str_split[i] == \"des\") {\r\n        str_split[i] = \"descending\";\r\n      }\r\n      str_split[i] =\r\n        str_split[i].charAt(0).toUpperCase() + str_split[i].substring(1);\r\n    }\r\n    return str_split.join(\" \");\r\n  }\r\n\r\n  render() {\r\n    let { sort } = this.state;\r\n    const { classes } = this.props;\r\n\r\n    return (\r\n      <div className=\"SortMenu\">\r\n        <div className=\"sort__container\">\r\n          <FormControl variant=\"outlined\" className={classes.formControl}>\r\n            <InputLabel id=\"sort-menu-label\">\r\n              {this.formatSort(sort)}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sort-menu-label\"\r\n              id=\"sort-menu\"\r\n              value=\"\"\r\n              label={this.formatSort(sort)}\r\n            >\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=alphabet-asc`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Alphabet Ascending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=alphabet-des`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Alphabet Descending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=date-asc`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Date Ascending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=date-des`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Date Descending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=popularity-asc`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Popularity Ascending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=popularity-des`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Popularity Descending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=vote-asc`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Vote Ascending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=vote-des`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Vote Descending</MenuItem>\r\n              </Link>\r\n              <Link\r\n                to={{\r\n                  pathname: this.props.props.location.pathname,\r\n                  search: `?sort=random`,\r\n                }}\r\n                key={guid()}\r\n                className=\"no_decoration_link\"\r\n              >\r\n                <MenuItem>Random</MenuItem>\r\n              </Link>\r\n            </Select>\r\n          </FormControl>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(SortMenu);\r\n","import React, { Component } from \"react\";\r\n\r\nimport { IconButton, Menu, MenuItem } from \"@material-ui/core\";\r\nimport Brightness6Icon from \"@material-ui/icons/Brightness6\";\r\n\r\nexport default class ThemeMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      menuAnchor: false,\r\n    };\r\n    this.handleClick = this.handleClick.bind(this);\r\n    this.handleClose = this.handleClose.bind(this);\r\n    this.handleTheme = this.handleTheme.bind(this);\r\n  }\r\n\r\n  handleClick(evt) {\r\n    this.setState({\r\n      menuAnchor: evt.currentTarget,\r\n    });\r\n  }\r\n\r\n  handleClose(evt) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n  }\r\n\r\n  handleTheme(name) {\r\n    this.setState({\r\n      menuAnchor: false,\r\n    });\r\n    localStorage.setItem(\"theme\", name);\r\n    sessionStorage.setItem(\"theme\", name);\r\n    window.location.reload();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ThemeMenu\">\r\n        <IconButton\r\n          aria-label=\"more\"\r\n          aria-controls=\"theme-menu\"\r\n          aria-haspopup=\"true\"\r\n          onClick={this.handleClick}\r\n        >\r\n          <Brightness6Icon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"theme-menu\"\r\n          anchorEl={this.state.menuAnchor}\r\n          anchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          transformOrigin={{ vertical: \"top\", horizontal: \"center\" }}\r\n          keepMounted\r\n          open={Boolean(this.state.menuAnchor)}\r\n          onClose={this.handleClose}\r\n        >\r\n          <MenuItem onClick={() => this.handleTheme(\"light\")}>Light</MenuItem>\r\n          <MenuItem onClick={() => this.handleTheme(\"dark\")}>Dark</MenuItem>\r\n          <MenuItem onClick={() => this.handleTheme(\"dracula\")}>\r\n            Dracula\r\n          </MenuItem>\r\n          <MenuItem onClick={() => this.handleTheme(\"nord\")}>Nord</MenuItem>\r\n        </Menu>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nimport { guid } from \"../../components\";\r\nimport \"./index.css\";\r\n\r\nexport default class Tile extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      metadata: this.props.metadata,\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n    };\r\n  }\r\n\r\n  render() {\r\n    let { metadata, server } = this.state;\r\n\r\n    return (\r\n      <div className=\"Tile\">\r\n        {metadata.length\r\n          ? metadata.map((category) => (\r\n              <div className=\"tile__category\" key={guid()}>\r\n                <Link\r\n                  to={`/browse/${category.categoryInfo.name}`}\r\n                  key={guid()}\r\n                  className=\"tile__category__title no_decoration_link\"\r\n                >\r\n                  {category.categoryInfo.name}\r\n                </Link>\r\n                <div className=\"tile__items\">\r\n                  {category.children.length\r\n                    ? category.children.map((item) => (\r\n                        <figure className=\"tile__item__figure\" key={guid()}>\r\n                          <Link to={`/view/${item.id}`} key={guid()}>\r\n                            <img\r\n                              src={\r\n                                item.posterPath ||\r\n                                `${server}/api/v1/image/poster?text=${item.title}&extention=jpeg`\r\n                              }\r\n                              key={guid()}\r\n                              className=\"tile__item__poster\"\r\n                              alt={item.title}\r\n                            />\r\n                          </Link>\r\n                          <Typography\r\n                            className=\"tile__item__title\"\r\n                            key={guid()}\r\n                          >\r\n                            {item.title}\r\n                          </Typography>\r\n                        </figure>\r\n                      ))\r\n                    : null}\r\n                </div>\r\n              </div>\r\n            ))\r\n          : null}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Avatar, Button, Chip, Typography } from \"@material-ui/core\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport SubtitlesOutlinedIcon from \"@material-ui/icons/SubtitlesOutlined\";\r\n\r\nimport DPlayer from \"react-dplayer\";\r\nimport VTTConverter from \"srt-webvtt\";\r\n\r\nimport { DownloadMenu, guid, PlayerMenu, theme } from \"../../../components\";\r\n\r\nexport default class MovieView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n    this.onFileChange = this.onFileChange.bind(this);\r\n    this.prettyDate = this.prettyDate.bind(this);\r\n  }\r\n\r\n  async onFileChange(evt) {\r\n    if (evt.target.files.length) {\r\n      if (evt.target.files[0].name.endsWith(\".srt\")) {\r\n        const vtt = new VTTConverter(evt.target.files[0]);\r\n        let res = await vtt.getURL();\r\n        this.setState({ file: res });\r\n      } else {\r\n        this.setState({ file: URL.createObjectURL(evt.target.files[0]) });\r\n      }\r\n    } else {\r\n      this.setState({ file: null });\r\n    }\r\n  }\r\n\r\n  prettyDate() {\r\n    let old_date = this.state.metadata.releaseDate;\r\n    let date_comp = old_date.split(\"-\");\r\n    let date = new Date(date_comp[0], date_comp[1], date_comp[2]);\r\n    return date.toDateString();\r\n  }\r\n\r\n  render() {\r\n    let { file, metadata, server, sources, subtitle } = this.state;\r\n\r\n    if (file) {\r\n      subtitle = { url: file };\r\n    }\r\n\r\n    var defaultQuality;\r\n    if (sources.length > 1) {\r\n      defaultQuality = 1;\r\n    } else {\r\n      defaultQuality = 0;\r\n    }\r\n\r\n    return (\r\n      <div className=\"MovieView\">\r\n        <div className=\"plyr__component\">\r\n          <DPlayer\r\n            key={guid()}\r\n            options={{\r\n              video: {\r\n                quality: sources,\r\n                defaultQuality: defaultQuality,\r\n                pic:\r\n                  metadata.backdropPath ||\r\n                  `${server}/api/v1/image/thumbnail?id=${metadata.id}`,\r\n              },\r\n              subtitle: subtitle,\r\n              preload: \"auto\",\r\n              theme: theme.palette.primary.main,\r\n              contextmenu: [\r\n                {\r\n                  text: \"libDrive\",\r\n                  link: \"https://github.com/libDrive/libDrive\",\r\n                },\r\n              ],\r\n              lang: \"en\",\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"info__container\">\r\n          <div className=\"info__left\">\r\n            <img\r\n              className=\"info__poster\"\r\n              src={\r\n                metadata.posterPath ||\r\n                `${server}/api/v1/image/poster?text=${metadata.title}&extention=jpeg`\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"info__right\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              style={{ fontWeight: \"bold\" }}\r\n              className=\"info__title\"\r\n            >\r\n              {metadata.title}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body1\"\r\n              className=\"info__overview\"\r\n              style={{ marginTop: \"30px\" }}\r\n            >\r\n              {metadata.overview}\r\n            </Typography>\r\n            <div className=\"vote__container\">\r\n              <Rating\r\n                name=\"Rating\"\r\n                value={metadata.voteAverage}\r\n                max={10}\r\n                readOnly\r\n              />\r\n            </div>\r\n            <div className=\"info__release\">\r\n              <Typography variant=\"body2\">\r\n                {metadata.language\r\n                  ? `${this.prettyDate()} (${metadata.language.toUpperCase()})`\r\n                  : this.prettyDate()}\r\n              </Typography>\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignContent: \"center\",\r\n                flexWrap: \"wrap\",\r\n              }}\r\n            >\r\n              <PlayerMenu state={this.state} />\r\n              <DownloadMenu state={this.state} />\r\n              <div style={{ marginTop: \"20px\" }}>\r\n                <input\r\n                  id=\"file-input\"\r\n                  hidden\r\n                  onChange={this.onFileChange}\r\n                  type=\"file\"\r\n                />\r\n                <label htmlFor=\"file-input\">\r\n                  <Button color=\"primary\" variant=\"outlined\" component=\"span\">\r\n                    <SubtitlesOutlinedIcon />\r\n                  </Button>\r\n                </label>\r\n              </div>\r\n            </div>\r\n            <div className=\"info__genres\">\r\n              {metadata.adult ? (\r\n                <Chip\r\n                  color=\"secondary\"\r\n                  avatar={<Avatar>E</Avatar>}\r\n                  style={{ marginRight: \"8px\", marginBottom: \"8px\" }}\r\n                  label={\"Adult (18+)\"}\r\n                  variant=\"outlined\"\r\n                />\r\n              ) : null}\r\n              {metadata.genres && metadata.genres.length\r\n                ? metadata.genres.map((genre) => (\r\n                    <Chip\r\n                      avatar={<Avatar>{genre.name.charAt(0)}</Avatar>}\r\n                      style={{ marginRight: \"8px\", marginBottom: \"8px\" }}\r\n                      label={genre.name}\r\n                      variant=\"outlined\"\r\n                    />\r\n                  ))\r\n                : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { Avatar, Button, Chip, Typography } from \"@material-ui/core\";\r\nimport { Rating } from \"@material-ui/lab\";\r\nimport SubtitlesOutlinedIcon from \"@material-ui/icons/SubtitlesOutlined\";\r\n\r\nimport DPlayer from \"react-dplayer\";\r\nimport VTTConverter from \"srt-webvtt\";\r\n\r\nimport {\r\n  ChildrenMenu,\r\n  DownloadMenu,\r\n  guid,\r\n  PlayerMenu,\r\n  PlaylistMenu,\r\n  theme,\r\n} from \"../../../components\";\r\n\r\nexport class TVBView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n    this.prettyDate = this.prettyDate.bind(this);\r\n  }\r\n\r\n  prettyDate() {\r\n    let old_date = this.state.metadata.releaseDate;\r\n    let date_comp = old_date.split(\"-\");\r\n    let date = new Date(date_comp[0], date_comp[1], date_comp[2]);\r\n    return date.toDateString();\r\n  }\r\n\r\n  render() {\r\n    let { metadata, server } = this.state;\r\n\r\n    return (\r\n      <div className=\"TVBView\">\r\n        <div className=\"info__container\">\r\n          <div className=\"info__left\">\r\n            <img\r\n              className=\"info__poster\"\r\n              src={\r\n                metadata.posterPath ||\r\n                `${server}/api/v1/image/poster?text=${metadata.title}&extention=jpeg`\r\n              }\r\n            />\r\n            <img\r\n              className=\"info__backdrop\"\r\n              src={\r\n                metadata.backdropPath ||\r\n                `${server}/api/v1/image/backdrop?text=${metadata.title}&extention=jpeg`\r\n              }\r\n            />\r\n          </div>\r\n          <div className=\"info__right\">\r\n            <Typography\r\n              variant=\"h3\"\r\n              style={{ fontWeight: \"bold\" }}\r\n              className=\"info__title\"\r\n            >\r\n              {metadata.title}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body1\"\r\n              className=\"info__overview\"\r\n              style={{ marginTop: \"30px\" }}\r\n            >\r\n              {metadata.overview}\r\n            </Typography>\r\n            <div className=\"vote__container\">\r\n              <Rating\r\n                name=\"Rating\"\r\n                value={metadata.voteAverage}\r\n                max={10}\r\n                readOnly\r\n              />\r\n            </div>\r\n            <div className=\"info__release\">\r\n              <Typography variant=\"body2\">\r\n                {metadata.language\r\n                  ? `${this.prettyDate()} (${metadata.language.toUpperCase()})`\r\n                  : this.prettyDate()}\r\n              </Typography>\r\n            </div>\r\n            <div className=\"buttons__container\">\r\n              <div className=\"button\">\r\n                <ChildrenMenu state={this.state} />\r\n              </div>\r\n            </div>\r\n            <div className=\"info__genres\">\r\n              {metadata.genres && metadata.genres.length\r\n                ? metadata.genres.map((genre) => (\r\n                    <Chip\r\n                      avatar={<Avatar>{genre.name.charAt(0)}</Avatar>}\r\n                      style={{ marginRight: \"8px\", marginBottom: \"8px\" }}\r\n                      label={genre.name}\r\n                      variant=\"outlined\"\r\n                    />\r\n                  ))\r\n                : null}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport class TVSView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.state;\r\n    this.onFileChange = this.onFileChange.bind(this);\r\n  }\r\n\r\n  async onFileChange(evt) {\r\n    if (evt.target.files.length) {\r\n      if (evt.target.files[0].name.endsWith(\".srt\")) {\r\n        const vtt = new VTTConverter(evt.target.files[0]);\r\n        let res = await vtt.getURL();\r\n        this.setState({ file: res });\r\n      } else {\r\n        this.setState({ file: URL.createObjectURL(evt.target.files[0]) });\r\n      }\r\n    } else {\r\n      this.setState({ file: null });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { file, metadata, q, server, sources, subtitle } = this.state;\r\n\r\n    if (file) {\r\n      subtitle = { url: file };\r\n    }\r\n\r\n    var defaultQuality;\r\n    if (sources.length > 1) {\r\n      defaultQuality = 1;\r\n    } else {\r\n      defaultQuality = 0;\r\n    }\r\n\r\n    function isHash(n, hash) {\r\n      if (n === hash) {\r\n        return \"pls-playing\";\r\n      } else {\r\n        return \"\";\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className=\"TVSView\">\r\n        <div className=\"plyr__component\">\r\n          <DPlayer\r\n            key={guid()}\r\n            options={{\r\n              video: {\r\n                quality: sources,\r\n                defaultQuality: defaultQuality,\r\n                pic: `${server}/api/v1/image/thumbnail?id=${metadata.children[q].id}`,\r\n              },\r\n              subtitle: subtitle,\r\n              preload: \"auto\",\r\n              theme: theme.palette.primary.main,\r\n              contextmenu: [\r\n                {\r\n                  text: \"libDrive\",\r\n                  link: \"https://github.com/libDrive/libDrive\",\r\n                },\r\n              ],\r\n              lang: \"en\",\r\n            }}\r\n          />\r\n          <div className=\"plyr-playlist-wrapper\">\r\n            <ul className=\"plyr-playlist\">\r\n              {metadata.children.length\r\n                ? metadata.children.map((child, n) => (\r\n                    <li className={isHash(n, q)} key={n}>\r\n                      <Link\r\n                        to={{\r\n                          pathname: window.location.pathname,\r\n                          search: `?q=${n}`,\r\n                        }}\r\n                        key={guid()}\r\n                      >\r\n                        <img className=\"plyr-miniposter\" />\r\n                        {child.name}\r\n                      </Link>\r\n                    </li>\r\n                  ))\r\n                : null}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div style={{ textAlign: \"center\", marginBottom: \"50px\" }}>\r\n          <Typography\r\n            variant=\"h3\"\r\n            style={{\r\n              textAlign: \"center\",\r\n              marginTop: \"25px\",\r\n              fontStyle: \"bold\",\r\n              height: \"1.2em\",\r\n              lineHeight: \"1.2em\",\r\n              overflow: \"hidden\",\r\n            }}\r\n          >\r\n            {metadata.name}\r\n          </Typography>\r\n          <Typography\r\n            variant=\"h6\"\r\n            style={{\r\n              textAlign: \"center\",\r\n              marginTop: \"15px\",\r\n              height: \"1.2em\",\r\n              lineHeight: \"1.2em\",\r\n              overflow: \"hidden\",\r\n            }}\r\n          >\r\n            {metadata.children[q].name}\r\n          </Typography>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              alignContent: \"center\",\r\n              justifyContent: \"center\",\r\n              flexWrap: \"wrap\",\r\n              marginTop: \"35px\",\r\n            }}\r\n          >\r\n            <PlayerMenu\r\n              state={{\r\n                auth: this.state.auth,\r\n                id: metadata.children[q].id,\r\n                metadata: metadata.children[q],\r\n                server: server,\r\n              }}\r\n            />\r\n            <DownloadMenu state={this.state} tv={true} />\r\n            <PlaylistMenu state={this.state} />\r\n            <div style={{ marginTop: \"20px\" }}>\r\n              <input\r\n                id=\"file-input\"\r\n                hidden\r\n                onChange={this.onFileChange}\r\n                type=\"file\"\r\n              />\r\n              <label htmlFor=\"file-input\">\r\n                <Button color=\"primary\" variant=\"outlined\" component=\"span\">\r\n                  <SubtitlesOutlinedIcon />\r\n                </Button>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nimport Swal from \"sweetalert2/src/sweetalert2.js\";\r\nimport \"@sweetalert2/theme-dark/dark.css\";\r\n\r\nimport axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nimport { Footer, Nav, theme } from \"../../components\";\r\nimport MovieView from \"./MovieView\";\r\nimport { TVBView, TVSView } from \"./TVView\";\r\nimport \"./index.css\";\r\n\r\nexport default class View extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      server:\r\n        sessionStorage.getItem(\"server\") || localStorage.getItem(\"server\"),\r\n      auth: sessionStorage.getItem(\"auth\") || localStorage.getItem(\"auth\"),\r\n      q: parseInt(queryString.parse(this.props.location.search).q) || 0,\r\n      id: this.props.match.params.id,\r\n      isLoaded: false,\r\n      metadata: {},\r\n      sources: [],\r\n      subtitle: { url: \"\" },\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { auth, server } = this.state;\r\n\r\n    if (!auth || !server) {\r\n      this.props.history.push(\"/logout\");\r\n    }\r\n\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-color-main\",\r\n      theme.palette.primary.main\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-video-background\",\r\n      theme.palette.background.default\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-menu-background\",\r\n      theme.palette.background.paper\r\n    );\r\n    document.documentElement.style.setProperty(\r\n      \"--plyr-menu-color\",\r\n      theme.palette.text.primary\r\n    );\r\n\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = async () => {\r\n    let { auth, id, name, q, server } = this.state;\r\n\r\n    await axios\r\n      .get(`${server}/api/v1/metadata?a=${auth}&id=${id}`)\r\n      .then((response) => {\r\n        let data = response.data;\r\n        if (data.content.mimeType == \"application/vnd.google-apps.folder\") {\r\n          id = data.content.children[q].id;\r\n          name = data.content.children[q].name;\r\n        } else {\r\n          name = data.content.name;\r\n        }\r\n        this.setState({\r\n          metadata: data.content,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n\r\n    await axios\r\n      .get(\r\n        `${server}/api/v1/stream_map?a=${auth}&id=${id}&name=${name}&server=${server}`\r\n      )\r\n      .then((response) => {\r\n        this.setState({\r\n          sources: response.data.content.sources,\r\n          subtitle: response.data.content.subtitle,\r\n          isLoaded: true,\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        console.error(error);\r\n        if (error.response) {\r\n          let data = error.response.data;\r\n          if (data.code === 401) {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: data.message,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Login\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              }\r\n            });\r\n          } else if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `Something went wrong while communicating with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        } else if (error.request) {\r\n          if (!server) {\r\n            this.props.history.push(\"/logout\");\r\n          } else {\r\n            Swal.fire({\r\n              title: \"Error!\",\r\n              text: `libDrive could not communicate with the server! Is '${server}' the correct address?`,\r\n              icon: \"error\",\r\n              confirmButtonText: \"Logout\",\r\n              confirmButtonColor: theme.palette.success.main,\r\n              cancelButtonText: \"Retry\",\r\n              cancelButtonColor: theme.palette.error.main,\r\n              showCancelButton: true,\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                this.props.history.push(\"/logout\");\r\n              } else if (result.isDismissed) {\r\n                location.reload();\r\n              }\r\n            });\r\n          }\r\n        }\r\n      });\r\n  };\r\n\r\n  render() {\r\n    let { isLoaded, metadata } = this.state;\r\n\r\n    return isLoaded && metadata.type == \"file\" ? (\r\n      <div className=\"View\">\r\n        <Nav {...this.props} />\r\n        <MovieView state={this.state} />\r\n        <Footer />\r\n      </div>\r\n    ) : isLoaded && metadata.type == \"directory\" && metadata.title ? (\r\n      <div className=\"View\">\r\n        <Nav {...this.props} />\r\n        <TVBView state={this.state} />\r\n        <Footer />\r\n      </div>\r\n    ) : isLoaded && metadata.type == \"directory\" ? (\r\n      <div className=\"View\">\r\n        <Nav {...this.props} />\r\n        <TVSView state={this.state} />\r\n        <Footer />\r\n      </div>\r\n    ) : (\r\n      <div className=\"Loading\">\r\n        <CircularProgress />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\n\r\nimport { CssBaseline } from \"@material-ui/core\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  App,\r\n  Browse,\r\n  CategoryBrowse,\r\n  Login,\r\n  Logout,\r\n  NotFound,\r\n  Search,\r\n  Settings,\r\n  SettingsLoginForm,\r\n  theme,\r\n  guid,\r\n  View,\r\n} from \"./components\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <ThemeProvider theme={theme}>\r\n      <CssBaseline />\r\n      <Switch>\r\n        <Route\r\n          exact\r\n          path={\"/\"}\r\n          render={(props) => <App key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/browse\"}\r\n          render={(props) => <Browse key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/browse/:category\"}\r\n          render={(props) => <CategoryBrowse key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/login\"}\r\n          render={(props) => <Login key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/logout\"}\r\n          render={(props) => <Logout key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/search/:q\"}\r\n          render={(props) => <Search key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/settings\"}\r\n          render={(props) => <Settings key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/settings/login\"}\r\n          render={(props) => <SettingsLoginForm key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          exact\r\n          path={\"/view/:id\"}\r\n          render={(props) => <View key={guid()} {...props} />}\r\n        />\r\n        <Route\r\n          path={\"\"}\r\n          render={(props) => <NotFound key={guid()} {...props} />}\r\n        />\r\n      </Switch>\r\n    </ThemeProvider>\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}